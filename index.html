<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Stardust-math_Personal Academic Website</title>
<link rel="icon" href="./assets/images/favicon.png" type="image/jpeg">
<link href="https://fonts.googleapis.com/css2?family=Allura&family=Great+Vibes&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
<link rel="preload" href="./assets/images/avatar.jpg" as="image">
<link rel="preload" href="./assets/images/background.jpg" as="image">
<link rel="preload" href="./assets/images/old-paper-texture.jpg" as="image">
<link rel="preload" href="./assets/images/scroll-texture.png" as="image">
<link rel="preload" href="./assets/animation/fire-animation.gif" as="image">
<link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=MedievalSharp&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
<script src="./assets/js/epic-transition.js"></script>
<style>
  /* 
    Image Loading Optimization: 
    Ensures proper rendering and transition effects for profile avatar
  */
  #avatar-frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    background-color: #f1f3f5; /* Fallback background during loading */
    transition: opacity 0.5s ease;
  }
        
  /* Preloading technique for critical images */
  .preload-images {
    position: absolute;
    width: 0;
    height: 0;
    overflow: hidden;
  }
    
  /* Base document styling */
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: "Georgia", serif;
    transition: background-color 0.5s ease, color 0.5s ease;
    background-color: #f1f3f5;
    color: #000;
  }

  /* Custom cursor implementation */
  * {
    cursor: none !important;
  }
  
  .custom-cursor {
    position: fixed;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 99999;
    transform: translate(-50%, -50%);
    transition: 
      transform 0.15s ease,
      width 0.2s ease,
      height 0.2s ease;
  }
  
  .cursor-outer {
    display: none;
    border: 2px solid #333;
    background-color: transparent;
    width: 30px;
    height: 30px;
  }
  
  .cursor-inner {
    background-color: #333;
  }
  
  /* Dark mode cursor styling */
  body.dark-mode .cursor-inner {
    background-color: #f8f9fa;
  }
  
  /* Cursor interaction states */
  .custom-cursor.click {
    transform: translate(-50%, -50%) scale(0.8);
  }
  
  .custom-cursor.hover {
    width: 40px;
    height: 40px;
  }
  
  /* Ripple effect animation */
  .ripple {
    position: fixed;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: rgba(52, 152, 219, 0.5);
    pointer-events: none;
    z-index: 99998;
    transform: translate(-50%, -50%) scale(0);
    animation: ripple 0.6s ease-out;
  }
  
  body.dark-mode .ripple {
    background-color: rgba(106, 48, 147, 0.5);
  }
  
  @keyframes ripple {
    to {
      transform: translate(-50%, -50%) scale(4);
      opacity: 0;
    }
  }
  
  /* Touch device compatibility */
  @media (hover: none) {
    .custom-cursor {
      display: none;
    }
    
    * {
      cursor: auto !important;
    }
  }

  /* Cover page styling */
  #cover {
    position: fixed;
    width: 100%;
    height: 100vh;
    background: url("./assets/images/cover.jpg") no-repeat center center/cover;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
    z-index: 100;
  }

  /* Cover overlay effects */
  #cover::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(3px);
    z-index: 11;
  }

  #cover::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(52, 152, 219, 0.25),
      rgba(155, 89, 182, 0.25)
    );
    mix-blend-mode: screen;
    pointer-events: none;
    z-index: 12;
    opacity: 0.6;
    animation: gradientShift 20s ease infinite;
  }

  @keyframes gradientShift {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Cover visibility states */
  #cover.visible {
    opacity: 1;
  }
  #cover.hidden {
    opacity: 0;
    pointer-events: none;
  }

  /* Profile avatar styling */
  #avatar-frame {
    position: relative;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    border: 3px solid rgba(255, 255, 255, 0.8);
    overflow: hidden;
    opacity: 0;
    transform: translateY(100px);
    transition: opacity 2s ease-in-out, transform 2s ease-in-out;
    z-index: 20;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    animation: pulse 3s infinite;
  }
  
  @keyframes pulse {
    0%,
    100% {
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    }
    50% {
      box-shadow: 0 0 25px rgba(255, 255, 255, 0.8);
    }
  }
  
  #avatar-frame.visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  #avatar-frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Text element styling */
  #name,
  #slogan {
    position: relative;
    z-index: 20;
    opacity: 0;
    transform: translateY(100px);
    transition: opacity 2s ease-in-out, transform 2s ease-in-out;
    text-align: center;
    max-width: 90vw;
    word-break: break-word;
  }
  
  #name.visible,
  #slogan.visible {
    opacity: 1;
    transform: translateY(0);
  }

  @font-face {
    font-family: 'CygnetRound';
    src: url('./assets/fonts/CygnetRound.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  #name {
    color: white;
    font-family: "CygnetRound", "Great Vibes", cursive;
    font-size: 2em;
    letter-spacing: 1px;
    text-shadow:
      0 0 8px rgba(255, 255, 255, 0.7),
      0 0 12px rgba(255, 255, 255, 0.5),
      0 0 20px rgba(52, 152, 219, 0.8);
  }
  
  #slogan {
    color: white;
    font-family: "Allura", cursive;
    font-size: 2.5em;
    text-shadow:
      0 0 6px rgba(0, 0, 0, 0.7),
      0 0 10px rgba(0, 0, 0, 0.4);
  }

  /* Button styling */
  #about-btn, #social-btn, #toolkit-btn, #schedule-btn {
    position: relative;
    z-index: 20;
    background: transparent;
    color: white;
    border: none;
    padding: 10px 24px;
    font-family: "Times New Roman", Times, serif;
    font-style: italic;
    font-size: 1.1em;
    cursor: pointer;
    transition: all 0.4s ease;
    opacity: 0;
    transform: translateY(100px);
    transition: opacity 2s ease-in-out, transform 2s ease-in-out;
    margin-top: 20px;
    overflow: hidden;
    border-radius: 30px;
    box-shadow: 
      0 0 0 1px rgba(255, 255, 255, 0.3),
      0 0 15px rgba(255, 255, 255, 0.1);
    letter-spacing: 0.5px;
  }

  #about-btn::before, #social-btn::before, #toolkit-btn::before, #schedule-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1),
      rgba(255, 255, 255, 0.05)
    );
    backdrop-filter: blur(3px);
    z-index: -1;
    border-radius: 30px;
    transition: all 0.4s ease;
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  #about-btn::after, #social-btn::after, #toolkit-btn::after, #schedule-btn::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    opacity: 0;
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(1);
    transition: all 0.6s ease;
  }

  #about-btn:hover, #social-btn:hover, #toolkit-btn:hover, #schedule-btn:hover {
    transform: translateY(0) scale(1.05);
    box-shadow: 
      0 0 0 1px rgba(255, 255, 255, 0.5),
      0 0 25px rgba(255, 255, 255, 0.2);
    letter-spacing: 1px;
  }

  #about-btn:hover::before, #social-btn:hover::before, #toolkit-btn:hover::before, #schedule-btn:hover::before {
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.15),
      rgba(255, 255, 255, 0.1)
    );
  }

  #about-btn:active::after, #social-btn:active::after, #toolkit-btn:active::after, #schedule-btn:active::after {
    opacity: 1;
    transform: translate(-50%, -50%) scale(20);
    transition: transform 0.8s ease, opacity 0.6s ease;
  }

  #about-btn.visible, #social-btn.visible, #toolkit-btn.visible, #schedule-btn.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Resume content styling */
  #resume, #social, #toolkit, #schedule {
    position: relative;
    z-index: 1;
    display: none;
    padding: 40px 20px;
    background: linear-gradient(
        rgba(241, 243, 245, 0.9),
        rgba(241, 243, 245, 0.9)
      ),
      url("https://www.transparenttextures.com/patterns/paper-fibers.png");
    min-height: 100vh;
    overflow-y: auto;
    opacity: 0;
    transition: opacity 1s ease-in-out;
  }
  
  #resume.visible, #social.visible, #toolkit.visible, #schedule.visible {
    display: block;
    opacity: 1;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    background: #ffffff;
    padding: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    border-top: 1px solid #000;
  }
  
  .resume-heading {
    font-size: 2.8em;
    text-align: center;
    color: #2c3e50;
    margin-bottom: 10px;
  }
  
  .contact-info {
    text-align: center;
    margin-bottom: 20px;
    color: #34495e;
  }
  
  h2 {
    font-variant: small-caps;
    color: #2c3e50;
    font-size: 1.4em;
    margin-top: 20px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid #000;
  }
  
  .section {
    padding: 15px;
    margin-bottom: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .section:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .subheading {
    display: flex;
    justify-content: space-between;
    font-size: 1.05em;
    margin-bottom: 8px;
  }
  
  .subheading-title {
    font-weight: bold;
    color: #3498db;
  }
  
  .subsubheading {
    font-style: italic;
    font-size: 0.95em;
    color: #34495e;
  }
  
  ul {
    padding-left: 20px;
    margin: 0;
    list-style-type: disc;
  }
  
  li {
    font-size: 1em;
    color: #34495e;
    line-height: 1.5;
    margin-bottom: 8px;
  }
  
  ul li::marker {
    font-size: 0.6em;
  }
  
  .highlight {
    color: #3498db;
    font-weight: bold;
  }
  
  a.download-link {
    color: #3498db;
    text-decoration: none;
    font-size: 0.95em;
    margin-top: 8px;
    display: inline-block;
  }
  
  a.download-link:hover {
    text-decoration: underline;
  }
  
  .email + .email {
    margin-left: 20px;
  }

  /* Dark mode styling */
  body.dark-mode {
    background-color: #121212;
    color: #ffffff;
  }
  
  body.dark-mode #resume, body.dark-mode #social, body.dark-mode #toolkit, body.dark-mode #schedule {
    background: #121212;
  }
  
  body.dark-mode .container {
    background: #1e1e1e;
    color: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
    border-top: 1px solid #444;
  }
  
  body.dark-mode .subheading-title {
    color: #3498db;
  }
  
  body.dark-mode h2,
  body.dark-mode .resume-heading {
    color: #ffffff;
  }
  
  body.dark-mode h2 {
    border-bottom: 1px solid #666;
  }
  
  body.dark-mode li,
  body.dark-mode .subsubheading,
  body.dark-mode .contact-info {
    color: #cccccc;
  }
  
  body.dark-mode a.download-link {
    color: #90caf9;
  }
  
  body.dark-mode .section {
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
  }
  
  body.dark-mode .section:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.7);
  }

  /* Theme toggle button styling */
  #toggle-btn, #toggle-btn-social, #toggle-btn-toolkit, #toggle-btn-schedule {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 9999;
    transition: all 0.4s ease;
    box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #3498db, #2980b9);
    border: none;
  }

  #toggle-btn:hover, #toggle-btn-social:hover, #toggle-btn-toolkit:hover, #toggle-btn-schedule:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
  }

  #toggle-btn:active, #toggle-btn-social:active, #toggle-btn-toolkit:active, #toggle-btn-schedule:active {
    transform: translateY(1px);
  }

  #toggle-btn::before, #toggle-btn-social::before, #toggle-btn-toolkit::before, #toggle-btn-schedule::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(145deg, #2980b9, #3498db);
    opacity: 0;
    transition: opacity 0.4s ease;
    border-radius: 50%;
  }

  #toggle-btn:hover::before, #toggle-btn-social:hover::before, #toggle-btn-toolkit:hover::before, #toggle-btn-schedule:hover::before {
    opacity: 1;
  }

  #toggle-btn span, #toggle-btn-social span, #toggle-btn-toolkit span, #toggle-btn-schedule span {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Arial', sans-serif;
    font-weight: 600;
    letter-spacing: 0.5px;
    white-space: nowrap;
    padding: 0;
  }

  /* Dark mode toggle button */
  body.dark-mode #toggle-btn, body.dark-mode #toggle-btn-social, body.dark-mode #toggle-btn-toolkit, body.dark-mode #toggle-btn-schedule {
    background: linear-gradient(145deg, #6a3093, #4a148c);
    box-shadow: 0 4px 15px rgba(106, 48, 147, 0.3);
  }

  body.dark-mode #toggle-btn::before, body.dark-mode #toggle-btn-social::before, body.dark-mode #toggle-btn-toolkit::before, body.dark-mode #toggle-btn-schedule::before {
    background: linear-gradient(145deg, #4a148c, #6a3093);
  }

  /* Clock widget styling */
  #clock, #clock-social, #clock-toolkit, #clock-schedule {
    position: fixed;
    top: 20px;
    left: 70px; /* Space for clock toggle button */
    background: rgba(52, 152, 219, 0.9);
    color: white;
    padding: 12px 18px;
    border-radius: 25px;
    font-size: 1em;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 140px;
    box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    transition: all 0.4s ease;
    font-family: 'Arial', sans-serif;
    font-weight: bold;
    letter-spacing: 1px;
  }

  #clock:hover, #clock-social:hover, #clock-toolkit:hover, #clock-schedule:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
  }

  /* Dark mode clock */
  body.dark-mode #clock, body.dark-mode #clock-social, body.dark-mode #clock-toolkit, body.dark-mode #clock-schedule {
    background: rgba(106, 48, 147, 0.9);
    box-shadow: 0 4px 15px rgba(106, 48, 147, 0.3);
  }
  
  /* Clock toggle button */
  .clock-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(52, 152, 219, 0.9);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10000;
    box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    transition: all 0.4s ease;
  }
  
  .clock-toggle:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
  }
  
  body.dark-mode .clock-toggle {
    background: rgba(106, 48, 147, 0.9);
    box-shadow: 0 4px 15px rgba(106, 48, 147, 0.3);
  }
  
  /* Clock collapsed state */
  #clock.collapsed, #clock-social.collapsed, #clock-toolkit.collapsed, #clock-schedule.collapsed {
    transform: translateX(-150%);
    opacity: 0;
    pointer-events: none;
  }

  /* Social page specific styling */
  .social-heading {
    font-size: 2.8em;
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-family: "Great Vibes", cursive;
    letter-spacing: 2px;
  }

  body.dark-mode .social-heading {
    color: #ffffff;
  }

  .social-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 30px;
  }

  .social-card {
    background: white;
    border-radius: 10px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .social-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
  }

  body.dark-mode .social-card {
    background: #2d2d2d;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  }

  .social-icon {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: #3498db;
    transition: all 0.3s ease;
  }

  .social-card:hover .social-icon {
    transform: scale(1.2);
  }

  /* Bilibili SVG icon styling */
  .bilibili-icon {
    width: 2.5rem;
    height: 2.5rem;
    margin-top: 10px;
    margin-bottom: 5px;
    transition: all 0.3s ease;
  }

  .social-card:hover .bilibili-icon {
    transform: scale(1.2);
  }

  .social-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 10px;
    color: #2c3e50;
  }

  body.dark-mode .social-title {
    color: #ffffff;
  }

  .social-description {
    color: #7f8c8d;
    margin-bottom: 20px;
    font-size: 0.9rem;
  }

  body.dark-mode .social-description {
    color: #bdc3c7;
  }

  .social-link {
    display: inline-block;
    padding: 8px 20px;
    background: #3498db;
    color: white;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .social-link:hover {
    background: #2980b9;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
  }

  body.dark-mode .social-link {
    background: #6a3093;
  }

  body.dark-mode .social-link:hover {
    background: #4a148c;
    box-shadow: 0 5px 15px rgba(106, 48, 147, 0.4);
  }

  .social-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(90deg, #3498db, #9b59b6);
    transition: all 0.3s ease;
  }

  .social-card:hover::before {
    height: 10px;
  }

  body.dark-mode .social-card::before {
    background: linear-gradient(90deg, #6a3093, #9b59b6);
  }

  /* Social link separator */
  .social-divider {
    display: inline-flex;
    align-items: center;
    height: 100%;
    padding: 0 5px;
    color: #7f8c8d;
    font-size: 1.2em;
    vertical-align: middle;
  }

  body.dark-mode .social-divider {
    color: #bdc3c7;
  }

  /* Back button styling */
  .back-btn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: #3498db;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
    transition: all 0.3s ease;
    z-index: 100;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s ease, transform 0.5s ease, background 0.3s ease;
  }

  .back-btn.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .back-btn:hover {
    transform: translateY(-5px) scale(1.1);
    background: #2980b9;
  }

  body.dark-mode .back-btn {
    background: #6a3093;
    box-shadow: 0 5px 15px rgba(106, 48, 147, 0.4);
  }

  body.dark-mode .back-btn:hover {
    background: #4a148c;
  }

  /* Cover buttons container */
  .cover-buttons {
    display: flex;
    gap: 20px;
    z-index: 20;
  }

  /* Toolkit page specific styles */
  .toolkit-heading {
    font-size: 2.8em;
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-family: "Great Vibes", cursive;
    letter-spacing: 2px;
  }

  body.dark-mode .toolkit-heading {
    color: #ffffff;
  }

  /* Category filter styling */
  .toolkit-filter {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .filter-btn {
    padding: 8px 16px;
    background: #f1f3f5;
    border: 1px solid #ddd;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9em;
  }

  .filter-btn:hover {
    background: #e1e3e5;
  }

  .filter-btn.active {
    background: #3498db;
    color: white;
    border-color: #3498db;
  }

  body.dark-mode .filter-btn {
    background: #2d2d2d;
    border-color: #444;
    color: #ccc;
  }

  body.dark-mode .filter-btn:hover {
    background: #3d3d3d;
  }

  body.dark-mode .filter-btn.active {
    background: #6a3093;
    border-color: #6a3093;
    color: white;
  }

  /* Search box styling */
  .toolkit-search {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
  }

  .search-container {
    position: relative;
    width: 100%;
    max-width: 500px;
  }

  .search-input {
    width: 100%;
    padding: 12px 20px;
    padding-left: 45px;
    border: 1px solid #ddd;
    border-radius: 30px;
    font-size: 1em;
    transition: all 0.3s ease;
    background: #f8f9fa;
  }

  .search-input:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
  }

  .search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: #7f8c8d;
  }

  body.dark-mode .search-input {
    background: #2d2d2d;
    border-color: #555;
    color: #ffffff;
  }

  body.dark-mode .search-input:focus {
    border-color: #6a3093;
    box-shadow: 0 0 0 2px rgba(106, 48, 147, 0.2);
  }

  body.dark-mode .search-icon {
    color: #bdc3c7;
  }

  /* Category grid layout */
  .category-section {
    margin-bottom: 40px;
  }

  .category-title {
    font-size: 1.8em;
    color: #2c3e50;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #3498db;
    font-family: "Georgia", serif;
  }

  body.dark-mode .category-title {
    color: #ffffff;
    border-bottom-color: #6a3093;
  }

  .toolkit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
  }

  .toolkit-card {
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    text-align: center;
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 180px;
    border: 1px solid rgba(0, 0, 0, 0.05);
  }

  .toolkit-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  body.dark-mode .toolkit-card {
    background: #2d2d2d;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.05);
  }

  .toolkit-icon {
    font-size: 1.8rem;
    margin-bottom: 15px;
    color: white;
    transition: all 0.3s ease;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 15px;
    background: linear-gradient(135deg, #3498db, #9b59b6);
    box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
  }

  .toolkit-card:hover .toolkit-icon {
    transform: scale(1.1);
    box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
  }

  .toolkit-title {
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 10px;
    color: #2c3e50;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  body.dark-mode .toolkit-title {
    color: #ffffff;
  }

  .toolkit-link {
    display: inline-block;
    padding: 8px 20px;
    background: linear-gradient(135deg, #3498db, #9b59b6);
    color: white;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    margin-top: auto;
    font-size: 0.9em;
  }

  .toolkit-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
  }

  .toolkit-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #3498db, #9b59b6);
    transition: all 0.3s ease;
  }

  .toolkit-card:hover::before {
    height: 6px;
  }

  /* Dark mode adjustments */
  body.dark-mode .toolkit-card::before {
    background: linear-gradient(90deg, #6a3093, #9b59b6);
  }

  body.dark-mode .toolkit-link {
    background: linear-gradient(135deg, #6a3093, #9b59b6);
    box-shadow: 0 4px 10px rgba(106, 48, 147, 0.3);
  }

  body.dark-mode .toolkit-link:hover {
    box-shadow: 0 5px 15px rgba(106, 48, 147, 0.4);
  }

  /* Special icons colors - Light mode */
  .toolkit-icon.ustc-icon { background: linear-gradient(135deg, #b30000, #d40000); }
  .toolkit-icon.jw-icon { background: linear-gradient(135deg, #0056b3, #0066cc); }
  .toolkit-icon.blackboard-icon { background: linear-gradient(135deg, #000, #333); }
  .toolkit-icon.email-icon { background: linear-gradient(135deg, #d44638, #e74c3c); }
  .toolkit-icon.icourse-icon { background: linear-gradient(135deg, #ff6b6b, #ff7675); }
  .toolkit-icon.hanhai-icon { background: linear-gradient(135deg, #1e88e5, #2196f3); }
  .toolkit-icon.flyer-icon { background: linear-gradient(135deg, #6a3093, #9b59b6); }
  .toolkit-icon.software-icon { background: linear-gradient(135deg, #333, #555); }
  .toolkit-icon.deepseek-icon { background: linear-gradient(135deg, #1a73e8, #4285f4); }
  .toolkit-icon.chatgpt-icon { background: linear-gradient(135deg, #10a37f, #1abc9c); }
  .toolkit-icon.grok-icon { background: linear-gradient(135deg, #6200ee, #7c4dff); }
  .toolkit-icon.scholar-icon { background: linear-gradient(135deg, #4285f4, #34a853); }
  .toolkit-icon.spotify-icon { background: linear-gradient(135deg, #1db954, #1ed760); }
  .toolkit-icon.overleaf-icon { background: linear-gradient(135deg, #47a141, #5cb85c); }
  .toolkit-icon.jupyter-icon { background: linear-gradient(135deg, #f37626, #f39c12); }
  .toolkit-icon.typing-icon { background: linear-gradient(135deg, #4a148c, #7b1fa2); }
  .toolkit-icon.qwerty-icon { background: linear-gradient(135deg, #333, #555); }
  .toolkit-icon.icloud-icon { background: linear-gradient(135deg, #0071e3, #5ac8fa); }
  .toolkit-icon.shanbay-icon { background: linear-gradient(135deg, #3eaf7c, #4cd964); }
  .toolkit-icon.toefl-icon { background: linear-gradient(135deg, #ff5722, #ff7043); }
  .toolkit-icon.english-icon { background: linear-gradient(135deg, #2196f3, #64b5f6); }
  .toolkit-icon.zlib-icon { background: linear-gradient(135deg, #4caf50, #66bb6a); }
  .toolkit-icon.matlab-icon { background: linear-gradient(135deg, #0076a8, #0097a7); }
  .toolkit-icon.mathematica-icon { background: linear-gradient(135deg, #dd1100, #ff3d00); }
  .toolkit-icon.wolfram-icon { background: linear-gradient(135deg, #dd1100, #ff3d00); }
  .toolkit-icon.deepl-icon { background: linear-gradient(135deg, #0f2b46, #1a365d); }
  .toolkit-icon.cnki-icon { background: linear-gradient(135deg, #e53935, #f44336); }
  .toolkit-icon.geogebra-icon { background: linear-gradient(135deg, #39a121, #4caf50); }
  .toolkit-icon.lofter-icon { background: linear-gradient(135deg, #00bcd4, #00e5ff); }
  .toolkit-icon.xdf-icon { background: linear-gradient(135deg, #ff5252, #ff6e6e); }
  .toolkit-icon.camscanner-icon { background: linear-gradient(135deg, #4caf50, #66bb6a); }
  .toolkit-icon.mars-icon { background: linear-gradient(135deg, #795548, #8d6e63); }
  .toolkit-icon.xmol-icon { background: linear-gradient(135deg, #1565c0, #1976d2); }
  .toolkit-icon.ablesci-icon { background: linear-gradient(135deg, #5c6bc0, #3f51b5); }
  .toolkit-icon.sciencedirect-icon { background: linear-gradient(135deg, #ff8f00, #ffa000); }
  .toolkit-icon.kaggle-icon { background: linear-gradient(135deg, #20beff, #00b0ff); }
  .toolkit-icon.csmr-icon { background: linear-gradient(135deg, #607d8b, #78909c); }
  .toolkit-icon.wind-icon { background: linear-gradient(135deg, #009688, #26a69a); }
  .toolkit-icon.webofscience-icon { background: linear-gradient(135deg, #673ab7, #7e57c2); }
  .toolkit-icon.github-icon { background: linear-gradient(135deg, #333, #666); }
  .toolkit-icon.gmail-icon { background: linear-gradient(135deg, #d44638, #e74c3c); }
  .toolkit-icon.youtube-icon { background: linear-gradient(135deg, #ff0000, #cc0000); }
  .toolkit-icon.tiktok-icon { background: linear-gradient(135deg, #000, #25f4ee); }
  .toolkit-icon.rednote-icon { background: linear-gradient(135deg, #ff2442, #ff4757); }
  .toolkit-icon.quora-icon { background: linear-gradient(135deg, #aa2200, #cc3300); }
  .toolkit-icon.twitter-icon { background: linear-gradient(135deg, #1da1f2, #0d8ecf); }
  .toolkit-icon.bilibili-icon { background: linear-gradient(135deg, #fb7299, #ff85ad); }
  .toolkit-icon.iqiyi-icon { background: linear-gradient(135deg, #00be06, #00d70a); }
  .toolkit-icon.tencent-icon { background: linear-gradient(135deg, #0084ff, #0066cc); }
  .toolkit-icon.qqmail-icon { background: linear-gradient(135deg, #12b7f5, #0d8ecf); }
  .toolkit-icon.qqmusic-icon { background: linear-gradient(135deg, #31c27c, #1eae5a); }
  .toolkit-icon.neteasemusic-icon { background: linear-gradient(135deg, #e60026, #cc0022); }
  .toolkit-icon.neteasemail-icon { background: linear-gradient(135deg, #e60026, #cc0022); }
  .toolkit-icon.kugou-icon { background: linear-gradient(135deg, #2ca2f9, #1a8fd8); }
  .toolkit-icon.wikipedia-icon { background: linear-gradient(135deg, #000, #666); }
  .toolkit-icon.maple-icon { background: linear-gradient(135deg, #0066cc, #004d99); }
  .toolkit-icon.notion-icon { background: linear-gradient(135deg, #000000, #3d3d3d); }
  .toolkit-icon.obsidian-icon { background: linear-gradient(135deg, #7c3aed, #5b21b6); }
  .toolkit-icon.tencentdocs-icon { background: linear-gradient(135deg, #0084ff, #0066cc); }
  .toolkit-icon.ustc-blackboard-icon { background: linear-gradient(135deg, #1a237e, #283593); }
  .toolkit-icon.ustc-mail-icon { background: linear-gradient(135deg, #d32f2f, #b71c1c); }
  .toolkit-icon.ustc-flyer-icon { background: linear-gradient(135deg, #6a1b9a, #4a148c); }
  .toolkit-icon.ustc-website-icon { background: linear-gradient(135deg, #b71c1c, #7f0000); }
  .toolkit-icon.ustc-jw-icon { background: linear-gradient(135deg, #0d47a1, #1565c0); }
  .toolkit-icon.ustc-icourse-icon { background: linear-gradient(135deg, #e53935, #c62828); }
  .toolkit-icon.ustc-software-icon { background: linear-gradient(135deg, #424242, #212121); }
  .toolkit-icon.ustc-hanhai-icon { background: linear-gradient(135deg, #00838f, #006064); }

  /* Dark mode icon colors*/
  body.dark-mode .toolkit-icon.ustc-icon { background: linear-gradient(135deg, #8b0000, #a50000); }
  body.dark-mode .toolkit-icon.jw-icon { background: linear-gradient(135deg, #003d82, #004b99); }
  body.dark-mode .toolkit-icon.blackboard-icon { background: linear-gradient(135deg, #1a1a1a, #333333); }
  body.dark-mode .toolkit-icon.email-icon { background: linear-gradient(135deg, #b33c30, #d14336); }
  body.dark-mode .toolkit-icon.icourse-icon { background: linear-gradient(135deg, #d85b5b, #e66a6a); }
  body.dark-mode .toolkit-icon.hanhai-icon { background: linear-gradient(135deg, #1565c0, #1976d2); }
  body.dark-mode .toolkit-icon.flyer-icon { background: linear-gradient(135deg, #5a2d82, #7b48a3); }
  body.dark-mode .toolkit-icon.software-icon { background: linear-gradient(135deg, #222222, #444444); }
  body.dark-mode .toolkit-icon.deepseek-icon { background: linear-gradient(135deg, #0d5bb7, #1a73e8); }
  body.dark-mode .toolkit-icon.chatgpt-icon { background: linear-gradient(135deg, #0c8b6a, #0fa588); }
  body.dark-mode .toolkit-icon.grok-icon { background: linear-gradient(135deg, #4d00ba, #5e1ac2); }
  body.dark-mode .toolkit-icon.scholar-icon { background: linear-gradient(135deg, #3367d6, #4285f4); }
  body.dark-mode .toolkit-icon.spotify-icon { background: linear-gradient(135deg, #1aa34a, #1db954); }
  body.dark-mode .toolkit-icon.overleaf-icon { background: linear-gradient(135deg, #3a8a36, #4a9e46); }
  body.dark-mode .toolkit-icon.jupyter-icon { background: linear-gradient(135deg, #d6681e, #e67e22); }
  body.dark-mode .toolkit-icon.typing-icon { background: linear-gradient(135deg, #3a0d70, #5c1d8a); }
  body.dark-mode .toolkit-icon.qwerty-icon { background: linear-gradient(135deg, #222222, #444444); }
  body.dark-mode .toolkit-icon.icloud-icon { background: linear-gradient(135deg, #005bb5, #0071e3); }
  body.dark-mode .toolkit-icon.shanbay-icon { background: linear-gradient(135deg, #329a5c, #3eaf7c); }
  body.dark-mode .toolkit-icon.toefl-icon { background: linear-gradient(135deg, #d84315, #e64a19); }
  body.dark-mode .toolkit-icon.english-icon { background: linear-gradient(135deg, #1976d2, #2196f3); }
  body.dark-mode .toolkit-icon.zlib-icon { background: linear-gradient(135deg, #3d8b40, #4caf50); }
  body.dark-mode .toolkit-icon.matlab-icon { background: linear-gradient(135deg, #006080, #0082a1); }
  body.dark-mode .toolkit-icon.mathematica-icon { background: linear-gradient(135deg, #b80e00, #d32f2f); }
  body.dark-mode .toolkit-icon.wolfram-icon { background: linear-gradient(135deg, #b80e00, #d32f2f); }
  body.dark-mode .toolkit-icon.deepl-icon { background: linear-gradient(135deg, #0c2038, #142d4d); }
  body.dark-mode .toolkit-icon.cnki-icon { background: linear-gradient(135deg, #c62828, #d32f2f); }
  body.dark-mode .toolkit-icon.geogebra-icon { background: linear-gradient(135deg, #2e7d32, #388e3c); }
  body.dark-mode .toolkit-icon.lofter-icon { background: linear-gradient(135deg, #008ba3, #00acc1); }
  body.dark-mode .toolkit-icon.xdf-icon { background: linear-gradient(135deg, #d84315, #e64a19); }
  body.dark-mode .toolkit-icon.camscanner-icon { background: linear-gradient(135deg, #3d8b40, #4caf50); }
  body.dark-mode .toolkit-icon.mars-icon { background: linear-gradient(135deg, #5d4037, #6d4b41); }
  body.dark-mode .toolkit-icon.xmol-icon { background: linear-gradient(135deg, #0d47a1, #1565c0); }
  body.dark-mode .toolkit-icon.ablesci-icon { background: linear-gradient(135deg, #4a58a3, #324497); }
  body.dark-mode .toolkit-icon.sciencedirect-icon { background: linear-gradient(135deg, #e65100, #f57c00); }
  body.dark-mode .toolkit-icon.kaggle-icon { background: linear-gradient(135deg, #0088cc, #00a0e0); }
  body.dark-mode .toolkit-icon.csmr-icon { background: linear-gradient(135deg, #455a64, #546e7a); }
  body.dark-mode .toolkit-icon.wind-icon { background: linear-gradient(135deg, #00796b, #00897b); }
  body.dark-mode .toolkit-icon.webofscience-icon { background: linear-gradient(135deg, #5e35b1, #7e57c2); }
  body.dark-mode .toolkit-icon.github-icon { background: linear-gradient(135deg, #222222, #444444); }
  body.dark-mode .toolkit-icon.gmail-icon { background: linear-gradient(135deg, #b33c30, #d14336); }
  body.dark-mode .toolkit-icon.youtube-icon { background: linear-gradient(135deg, #cc0000, #e60000); }
  body.dark-mode .toolkit-icon.tiktok-icon { background: linear-gradient(135deg, #111111, #25f4ee); }
  body.dark-mode .toolkit-icon.rednote-icon { background: linear-gradient(135deg, #d81b60, #e91e63); }
  body.dark-mode .toolkit-icon.quora-icon { background: linear-gradient(135deg, #8b1a00, #aa2200); }
  body.dark-mode .toolkit-icon.twitter-icon { background: linear-gradient(135deg, #0d8ecf, #1a91da); }
  body.dark-mode .toolkit-icon.bilibili-icon { background: linear-gradient(135deg, #e55c8a, #fb7299); }
  body.dark-mode .toolkit-icon.iqiyi-icon { background: linear-gradient(135deg, #009900, #00bb00); }
  body.dark-mode .toolkit-icon.tencent-icon { background: linear-gradient(135deg, #0066cc, #0080ff); }
  body.dark-mode .toolkit-icon.qqmail-icon { background: linear-gradient(135deg, #0d8ecf, #12b7f5); }
  body.dark-mode .toolkit-icon.qqmusic-icon { background: linear-gradient(135deg, #269a5a, #31c27c); }
  body.dark-mode .toolkit-icon.neteasemusic-icon { background: linear-gradient(135deg, #cc0022, #e60026); }
  body.dark-mode .toolkit-icon.neteasemail-icon { background: linear-gradient(135deg, #cc0022, #e60026); }
  body.dark-mode .toolkit-icon.kugou-icon { background: linear-gradient(135deg, #1a8fd8, #2ca2f9); }
  body.dark-mode .toolkit-icon.wikipedia-icon { background: linear-gradient(135deg, #111111, #333333); }
  body.dark-mode .toolkit-icon.maple-icon { background: linear-gradient(135deg, #004d99, #0066cc); }
  body.dark-mode .toolkit-icon.notion-icon { background: linear-gradient(135deg, #111111, #333333); }
  body.dark-mode .toolkit-icon.obsidian-icon { background: linear-gradient(135deg, #5b21b6, #7c3aed); }
  body.dark-mode .toolkit-icon.tencentdocs-icon { background: linear-gradient(135deg, #0066cc, #0080ff); }
  body.dark-mode .toolkit-icon.ustc-blackboard-icon { background: linear-gradient(135deg, #0d1a52, #1a237e); }
  body.dark-mode .toolkit-icon.ustc-mail-icon { background: linear-gradient(135deg, #b71c1c, #8e0000); }
  body.dark-mode .toolkit-icon.ustc-flyer-icon { background: linear-gradient(135deg, #4a148c, #38006b); }
  body.dark-mode .toolkit-icon.ustc-website-icon { background: linear-gradient(135deg, #8e0000, #5e0000); }
  body.dark-mode .toolkit-icon.ustc-jw-icon { background: linear-gradient(135deg, #0b3d91, #0d47a1); }
  body.dark-mode .toolkit-icon.ustc-icourse-icon { background: linear-gradient(135deg, #c62828, #a31818); }
  body.dark-mode .toolkit-icon.ustc-software-icon { background: linear-gradient(135deg, #2d2d2d, #1a1a1a); }
  body.dark-mode .toolkit-icon.ustc-hanhai-icon { background: linear-gradient(135deg, #006064, #004d4f); }

  /* Additional icons with dark mode variants */
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#e24329,#6d4b41)"] { 
    background: linear-gradient(135deg, #c2331d, #5d3f39) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#000000,#3d3d3d)"] { 
    background: linear-gradient(135deg, #111111, #2d2d2d) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#ffa116,#ff7b00)"] { 
    background: linear-gradient(135deg, #e69113, #e66b00) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#5c6bc0,#3f51b5)"] { 
    background: linear-gradient(135deg, #4a58a3, #324497) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#4285f4,#34a853)"] { 
    background: linear-gradient(135deg, #3274d4, #2a9747) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#f39c12,#e67e22)"] { 
    background: linear-gradient(135deg, #d38a10, #d16e1e) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#27ae60,#2ecc71)"] { 
    background: linear-gradient(135deg, #1e8d4f, #25b362) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#00b0ff,#0081cb)"] { 
    background: linear-gradient(135deg, #0095d6, #006ba7) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#00c4cc,#00a2ff)"] { 
    background: linear-gradient(135deg, #00a5b3, #0085d6) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#2ecc71,#27ae60)"] { 
    background: linear-gradient(135deg, #25b362, #1e8d4f) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#2c3e50,#34495e)"] { 
    background: linear-gradient(135deg, #1e2b38, #263441) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#5c6bc0,#3949ab)"] { 
    background: linear-gradient(135deg, #4a58a3, #2f3d91) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#e74c3c,#c0392b)"] { 
    background: linear-gradient(135deg, #d14336, #a82e23) !important;
  }
  body.dark-mode .toolkit-icon[style*="background:linear-gradient(135deg,#3498db,#2980b9)"] { 
    background: linear-gradient(135deg, #2a89c8, #21699e) !important;
  }

  /* No results message */
  .no-results {
    text-align: center;
    padding: 40px;
    color: #7f8c8d;
    font-size: 1.2em;
    grid-column: 1 / -1;
  }

  body.dark-mode .no-results {
    color: #bdc3c7;
  }

  /* Schedule Page Styles */
  .schedule-heading {
    font-size: 2.8em;
    text-align: center;
    color: #2c3e50;
    margin-bottom: 30px;
    font-family: "Great Vibes", cursive;
    letter-spacing: 2px;
  }

  body.dark-mode .schedule-heading {
    color: #ffffff;
  }

  .schedule-container {
    display: flex;
    flex-direction: column;
    gap: 30px;
    width: 100%; /* Ensure full width */
  }

  .schedule-switcher {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .schedule-switch-btn {
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-size: 1em;
    transition: all 0.3s ease;
  }

  .schedule-switch-btn:hover {
    background: #2980b9;
    transform: translateY(-2px);
  }

  .schedule-switch-btn.active {
    background: #6a3093;
    box-shadow: 0 4px 10px rgba(106, 48, 147, 0.3);
  }

  body.dark-mode .schedule-switch-btn {
    background: #6a3093;
  }

  body.dark-mode .schedule-switch-btn:hover {
    background: #4a148c;
  }

  body.dark-mode .schedule-switch-btn.active {
    background: #3498db;
    box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
  }

  .schedule-section {
    display: none;
  }

  .schedule-section.active {
    display: block;
  }

  /* Calendar Styles */
  #calendar-container {
    height: 70vh;
    margin-bottom: 20px;
  }

  .fc {
    font-family: "Georgia", serif;
  }

  .fc-toolbar-title {
    font-family: "Georgia", serif;
    font-size: 1.5em;
    color: #2c3e50;
  }

  body.dark-mode .fc-toolbar-title {
    color: #ffffff;
  }

  .fc-button {
    background-color: #3498db !important;
    border-color: #3498db !important;
    color: white !important;
    transition: all 0.3s ease;
  }

  .fc-button:hover {
    background-color: #2980b9 !important;
    border-color: #2980b9 !important;
  }

  body.dark-mode .fc-button {
    background-color: #6a3093 !important;
    border-color: #6a3093 !important;
  }

  body.dark-mode .fc-button:hover {
    background-color: #4a148c !important;
    border-color: #4a148c !important;
  }

  .fc-daygrid-day-number {
    color: #2c3e50;
  }

  body.dark-mode .fc-daygrid-day-number {
    color: #ffffff;
  }

  .fc-daygrid-day.fc-day-today {
    background-color: rgba(52, 152, 219, 0.1) !important;
  }

  body.dark-mode .fc-daygrid-day.fc-day-today {
    background-color: rgba(106, 48, 147, 0.1) !important;
  }

  .fc-event {
    background-color: #3498db !important;
    border-color: #3498db !important;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .fc-event:hover {
    background-color: #2980b9 !important;
    border-color: #2980b9 !important;
  }

  body.dark-mode .fc-event {
    background-color: #6a3093 !important;
    border-color: #6a3093 !important;
  }

  body.dark-mode .fc-event:hover {
    background-color: #4a148c !important;
    border-color: #4a148c !important;
  }

  /* Timetable Styles */
  .timetable-container {
    width: 100%;
    overflow-x: auto;
  }

  .timetable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  .timetable th, .timetable td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: center;
  }

  .timetable th {
    background-color: #3498db;
    color: white;
    font-weight: bold;
  }

  .timetable td {
    background-color: white;
    height: 60px;
    vertical-align: middle;
    position: relative;
  }

  .timetable td.time-cell {
    background-color: #f1f3f5;
    font-weight: bold;
  }

  .timetable td.empty-cell {
    background-color: #f9f9f9;
  }

  .timetable td.has-event {
    background-color: rgba(52, 152, 219, 0.1);
    cursor: pointer;
  }

  .timetable td.has-event:hover {
    background-color: rgba(52, 152, 219, 0.2);
  }

  .timetable-event {
    position: absolute;
    top: 2px;
    left: 2px;
    right: 2px;
    bottom: 2px;
    background-color: #3498db;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 4px;
    font-size: 0.9em;
    padding: 2px;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .timetable-event:hover {
    background-color: #2980b9;
    transform: scale(1.02);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }

  body.dark-mode .timetable th {
    background-color: #6a3093;
  }

  body.dark-mode .timetable td {
    background-color: #2d2d2d;
    border-color: #444;
    color: #ffffff;
  }

  body.dark-mode .timetable td.time-cell {
    background-color: #3d3d3d;
  }

  body.dark-mode .timetable td.empty-cell {
    background-color: #333;
  }

  body.dark-mode .timetable td.has-event {
    background-color: rgba(106, 48, 147, 0.1);
  }

  body.dark-mode .timetable td.has-event:hover {
    background-color: rgba(106, 48, 147, 0.2);
  }

  body.dark-mode .timetable-event {
    background-color: #6a3093;
  }

  body.dark-mode .timetable-event:hover {
    background-color: #4a148c;
  }

  /* Event Modal Styles */
  .event-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 10000;
    justify-content: center;
    align-items: center;
  }

  .event-modal-content {
    background-color: white;
    padding: 30px;
    border-radius: 10px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    position: relative;
  }

  body.dark-mode .event-modal-content {
    background-color: #2d2d2d;
  }

  .event-modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 1.5em;
    cursor: pointer;
    color: #7f8c8d;
    transition: color 0.3s ease;
  }

  .event-modal-close:hover {
    color: #e74c3c;
  }

  .event-modal-title {
    font-size: 1.5em;
    margin-bottom: 20px;
    color: #2c3e50;
    text-align: center;
  }

  body.dark-mode .event-modal-title {
    color: #ffffff;
  }

  .event-form-group {
    margin-bottom: 20px;
  }

  .event-form-group label {
    display: block;
    margin-bottom: 8px;
    color: #2c3e50;
    font-weight: bold;
  }

  body.dark-mode .event-form-group label {
    color: #cccccc;
  }

  .event-form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-family: "Georgia", serif;
    font-size: 1em;
    transition: border-color 0.3s ease;
  }

  .event-form-control:focus {
    outline: none;
    border-color: #3498db;
    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
  }

  body.dark-mode .event-form-control {
    background-color: #3d3d3d;
    border-color: #555;
    color: #ffffff;
  }

  body.dark-mode .event-form-control:focus {
    border-color: #6a3093;
    box-shadow: 0 0 0 2px rgba(106, 48, 147, 0.2);
  }

  .event-form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 30px;
  }

  .event-form-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-family: "Georgia", serif;
    font-size: 1em;
    transition: all 0.3s ease;
  }

  .event-form-btn-save {
    background-color: #3498db;
    color: white;
  }

  .event-form-btn-save:hover {
    background-color: #2980b9;
  }

  .event-form-btn-delete {
    background-color: #e74c3c;
    color: white;
  }

  .event-form-btn-delete:hover {
    background-color: #c0392b;
  }

  .event-form-btn-cancel {
    background-color: #95a5a6;
    color: white;
  }

  .event-form-btn-cancel:hover {
    background-color: #7f8c8d;
  }

  body.dark-mode .event-form-btn-save {
    background-color: #6a3093;
  }

  body.dark-mode .event-form-btn-save:hover {
    background-color: #4a148c;
  }

  /* Add Event Button */
  .add-event-btn {
    display: block;
    padding: 12px 25px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 30px;
    font-family: "Georgia", serif;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
    position: relative;
    z-index: 100;
    margin: 20px auto 40px;
  }

  .add-event-btn:hover {
    background-color: #2980b9;
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
  }

  body.dark-mode .add-event-btn {
    background-color: #6a3093;
    box-shadow: 0 4px 10px rgba(106, 48, 147, 0.3);
  }

  body.dark-mode .add-event-btn:hover {
    background-color: #4a148c;
    box-shadow: 0 6px 15px rgba(106, 48, 147, 0.4);
  }

  /* Week Navigation */
  .week-navigation {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .week-title {
    font-size: 1.5em;
    color: #2c3e50;
    font-weight: bold;
  }

  body.dark-mode .week-title {
    color: #ffffff;
  }

  .week-nav-btn {
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .week-nav-btn:hover {
    background-color: #2980b9;
    transform: translateY(-2px);
  }

  body.dark-mode .week-nav-btn {
    background-color: #6a3093;
  }

  body.dark-mode .week-nav-btn:hover {
    background-color: #4a148c;
  }

  /* Responsive Adjustments */
  @media (max-width: 768px) {
    .schedule-switcher {
      flex-direction: column;
      align-items: center;
    }
    
    .timetable {
      font-size: 0.9em;
    }
    
    .timetable th, .timetable td {
      padding: 8px;
    }
    
    .event-modal-content {
      width: 95%;
      padding: 20px;
    }
  }

  /* Clock initial state */
  .clock-toggle {
    display: none; /* Hidden by default */
  }

  /* USTC Timetable styles */
  #ustc-timetable {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-family: "Georgia", serif;
  }
  
  #ustc-timetable th, #ustc-timetable td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
    position: relative;
  }
  
  #ustc-timetable th {
    background-color: #3498db;
    color: white;
    font-weight: bold;
  }
  
  #ustc-timetable td {
    background-color: white;
    height: 50px;
    vertical-align: middle;
  }
  
  #ustc-timetable .period-header {
    background-color: #f1f3f5;
    font-weight: bold;
    text-align: center;
    vertical-align: middle;
    width: 80px;
  }
  
  #ustc-timetable td.has-class {
    background-color: rgba(52, 152, 219, 0.1);
  }
  
  /* Event overlay styling */
  .ustc-event-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 10;
    background: rgba(52, 152, 219, 0.15);
    border-radius: 4px;
    box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }
  
  .ustc-event-overlay:hover {
    background: rgba(52, 152, 219, 0.25);
    box-shadow: inset 0 0 8px rgba(0,0,0,0.2);
  }
  
  .course-name {
    font-weight: bold;
    font-size: 0.9em;
    margin-bottom: 2px;
    color: #2c3e50;
  }
  
  .instructor {
    font-size: 0.8em;
    font-style: italic;
    color: #34495e;
  }
  
  /* Dark mode USTC Timetable */
  body.dark-mode #ustc-timetable th {
    background-color: #6a3093;
    border-color: #444;
  }
  
  body.dark-mode #ustc-timetable td {
    background-color: #2d2d2d;
    border-color: #444;
    color: #ffffff;
  }
  
  body.dark-mode #ustc-timetable .period-header {
    background-color: #3d3d3d;
    color: #ffffff;
  }
  
  body.dark-mode #ustc-timetable td.has-class {
    background-color: rgba(106, 48, 147, 0.1);
  }
  
  body.dark-mode .course-name {
    color: #ffffff;
  }
  
  body.dark-mode .instructor {
    color: #cccccc;
  }
  
  body.dark-mode .ustc-event-overlay {
    background: rgba(106, 48, 147, 0.15);
  }
  
  body.dark-mode .ustc-event-overlay:hover {
    background: rgba(106, 48, 147, 0.25);
  }
  
  /* USTC Classes Table */
  .ustc-classes-container {
    margin-top: 30px;
  }
  
  .ustc-classes-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  
  .ustc-classes-table th, .ustc-classes-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  
  .ustc-classes-table th {
    background-color: #3498db;
    color: white;
  }
  
  .days-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  
  .days-container label {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  
  body.dark-mode .ustc-classes-table th {
    background-color: #6a3093;
  }
  
  body.dark-mode .ustc-classes-table td {
    background-color: #2d2d2d;
    border-color: #444;
    color: #cccccc;
  }

  /* Schedule page container optimization */
  #schedule .container {
    max-width: 95%; /* Wider container */
    width: 100%;
    padding: 30px 15px;
  }
  
  /* USTC timetable styling optimization */
  .ustc-class-cell {
    position: relative;
    height: 100%;
  }
  
  .ustc-class-info {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 5px;
  }
  
  /* Time information styling */
  .time-info {
    position: absolute;
    font-size: 0.7em;
    padding: 2px;
    z-index: 0;
    background: transparent;
  }
  
  body.dark-mode .time-info {
    background: transparent;
    color: #ccc;
  }
  
  .start-info {
    top: 2px;
    left: 2px;
  }
  
  .end-info {
    bottom: 2px;
    right: 2px;
  }
  
  /* Advanced event cell styling */
  .event-cell {
    position: relative;
    overflow: hidden;
    border-radius: 4px;
    box-shadow: inset 0 0 8px rgba(0,0,0,0.05);
    transition: all 0.3s ease;
  }
  
  .event-cell:hover {
    box-shadow: inset 0 0 12px rgba(0,0,0,0.1);
    transform: scale(1.01);
  }
  
  .event-cell::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, #3498db, #9b59b6);
    transition: all 0.3s ease;
  }
  
  .event-cell:hover::before {
    height: 5px;
  }
  
  body.dark-mode .event-cell::before {
    background: linear-gradient(90deg, #6a3093, #9b59b6);
  }
  
  /* Fix cell merging issues in USTC Timetable */
  .ustc-timetable-cell {
    position: relative;
    height: 50px;
  }
  
  .ustc-course-info {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 5px;
    z-index: 5;
    background: rgba(52, 152, 219, 0.1);
    border-radius: 4px;
  }
  
  .ustc-course-info:hover {
    background: rgba(52, 152, 219, 0.2);
  }
  
  body.dark-mode .ustc-course-info {
    background: rgba(106, 48, 147, 0.1);
  }
  
  body.dark-mode .ustc-course-info:hover {
    background: rgba(106, 48, 147, 0.2);
  }
  
  /* Merged cell styling */
  .merged-cell {
    border: none !important;
    background-color: transparent !important;
    padding: 0 !important;
    height: 0 !important;
  }
  
  .course-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
    width: 100%;
    text-align: center;
    position: relative;
  }
  
  /* Period number styling */
  .period-number {
    background-color: #f8f9fa;
    font-weight: bold;
    border-right: 1px solid #ddd;
  }
  
  body.dark-mode .period-number {
    background-color: #3d3d3d;
    border-color: #555;
  }

  /* Overlapping course container styling */
  .overlap-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    position: relative;
  }
  
  .overlap-course {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2px 0;
    overflow: hidden;
  }

  /* Weeks selection styling */
  .weeks-container {
    margin-top: 10px;
    margin-bottom: 15px;
  }
  
  .weeks-title {
    font-weight: bold;
    margin-bottom: 8px;
    color: #2c3e50;
  }
  
  body.dark-mode .weeks-title {
    color: #ffffff;
  }
  
  .weeks-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 8px;
  }
  
  .week-checkbox {
    display: flex;
    align-items: center;
  }
  
  .week-checkbox label {
    margin-left: 5px;
    font-size: 0.9em;
  }
  
  .week-display {
    font-size: 0.85em;
    color: #7f8c8d;
    margin-top: 5px;
    min-height: 20px;
  }
  
  body.dark-mode .week-display {
    color: #bdc3c7;
  }
  
  /* My Timetable Styles */
  .semester-selector {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
  }
  
  .semester-dropdown {
    position: relative;
    display: inline-block;
    width: 100%;
    max-width: 300px;
  }
  
  .semester-dropdown-btn {
    background-color: #3498db;
    color: white;
    padding: 12px 20px;
    font-size: 16px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    width: 100%;
    text-align: left;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
    transition: all 0.3s ease;
  }
  
  .semester-dropdown-btn:hover {
    background-color: #2980b9;
  }
  
  .semester-dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    width: 100%;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 5px;
  }
  
  .semester-dropdown-content a {
    color: #2c3e50;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    transition: background-color 0.3s;
  }
  
  .semester-dropdown-content a:hover {
    background-color: #3498db;
    color: white;
  }
  
  .semester-dropdown:hover .semester-dropdown-content {
    display: block;
  }
  
  .semester-dropdown:hover .semester-dropdown-btn {
    background-color: #2980b9;
  }
  
  body.dark-mode .semester-dropdown-content {
    background-color: #2d2d2d;
  }
  
  body.dark-mode .semester-dropdown-content a {
    color: #cccccc;
  }
  
  body.dark-mode .semester-dropdown-content a:hover {
    background-color: #6a3093;
    color: white;
  }
  
  /* Semester timetable container */
  .semester-timetable-container {
    display: none;
    margin-top: 20px;
  }
  
  .semester-timetable-container.active {
    display: block;
  }
  
  .semester-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 20px;
    color: #2c3e50;
    font-family: "Georgia", serif;
  }
  
  body.dark-mode .semester-title {
    color: #ffffff;
  }
</style>
</head>
<body>
  <!-- Preloaded images for performance optimization -->
  <div class="preload-images">
    <img src="./assets/images/avatar.jpg" alt="Preload Avatar">
    <img src="./assets/images/background.jpg" alt="Preload Background">
    <img src="./assets/images/old-paper-texture.jpg" alt="Preload Paper Texture">
    <img src="./assets/images/scroll-texture.png" alt="Preload Scroll Texture">
    <img src="./assets/animation/fire-animation.gif" alt="Preload Fire Animation">
  </div>
    
  <!-- Custom cursor elements -->
  <div class="custom-cursor cursor-outer"></div>
  <div class="custom-cursor cursor-inner"></div>

  <!-- Clock control button -->
  <div class="clock-toggle" id="clock-toggle">
    <i class="fas fa-clock"></i>
  </div>

  <!-- Cover page -->
  <div id="cover">
    <div id="avatar-frame">
      <img src="./assets/images/avatar.jpg" alt="Profile Avatar" loading="lazy">
    </div>
    <div id="name">Stardust</div>
    <div id="slogan">Turn this imperfect story into the way we hope it to be.</div>
    <div class="cover-buttons">
      <button id="about-btn">About</button>
      <button id="social-btn">Social</button>
      <button id="toolkit-btn">Toolkit</button>
      <button id="schedule-btn">Schedule</button>
    </div>
  </div>

  <!-- Resume page -->
  <div id="resume">
    <button id="toggle-btn">
      <span><i class="fas fa-sun"></i></span>
    </button>
    <div id="clock">GMT+8 00:00</div>
    <div class="container">
      <div class="resume-heading">Jinghao Chen</div>
      <p class="contact-info">
        Hefei Anhui, 230026<br />
        <span class="email">Email 1: chenjinghao@mail.ustc.edu.cn</span>
        <span class="email">Email 2: stardust.math26@gmail.com</span><br />
        Tel: +86 18806590966
      </p>

      <div class="section">
        <h2>Education</h2>
        <div class="subheading">
          <span class="subheading-title">University of Science and Technology of China</span>
          <span>Expected June 2027</span>
        </div>
        <div class="subsubheading">Bachelor of Science in Mathematics (Information and Computing Science)</div>
        <div class="subsubheading">Minor in Computer Science and Technology</div>
      </div>
      
      <div class="section">
        <h2>Honors and Awards</h2>
        <ul>
          <li>"Zhang Zongzhi Sci-Tech Scholarship"</li>
          <li>"Outstanding Freshman Scholarship (Grade 2)"</li>
          <li>Honorable Mention, Mathematical Contest in Modeling<sup>&reg;</sup> (MCM), Problem B, 2025</li>
        </ul>
      </div>
      
      <div class="section">
        <h2>Work Experience</h2>
        <div class="subheading">
          <span class="subheading-title">Teaching assistant of "Probability Theory and Mathematical Statistics" led by Shuguang Zhang</span>
          <span>Expected September 2025 – January 2026</span>
        </div>
        <div class="subsubheading">Compile the reference answers for "Probability Theory and Mathematical Statistics" (Textbook by Baiqi Miu and Weiping Zhang)</div>
        <a class="download-link" href="./assets/pdf/Reference_Answer_of_''Probability_Theory_and_Mathematical_Statistics''_(by Baiqi_Miu_and_Weiping_Zhang).pdf" download>Click here to download: Reference Answer of "Probability Theory and Mathematical Statistics"</a>
      </div>
      
      <div class="section">
        <h2>Research Projects</h2>
        <div class="subheading">
          <span class="subheading-title"></span>
          <span>September 2024 – Present</span>
        </div>
        <div class="subsubheading">Cooperating with </div>
        <ul><li></li></ul>
        
        <div class="subheading">
          <span class="subheading-title"></span>
          <span>July 2025 – Present</span>
        </div>
        <div class="subsubheading">Cooperating with </div>
        <ul><li></li></ul>
        
        <div class="subheading">
          <span class="subheading-title"></span>
          <span>July 2025 – Present</span>
        </div>
        <div class="subsubheading">Cooperating with </div>
        <ul><li></li></ul>
      </div>
      
      <div class="section">
        <h2>Publications</h2>
      </div>
      
      <div class="section">
        <h2>Additional Skills/Information</h2>
        <ul>
          <li><strong>Computer Skills:</strong> Mathematica (Proficient), Python (4 yr), C (2 yr), LaTeX (Proficient)</li>
          <li><strong>Languages:</strong> Chinese (Native), English (Fluent -- TOEFL Score: Reading 22, Listening 21, Speaking 24, Writing 24)</li>
          <li><strong>Hobbies:</strong> Playing Bamboo Flute, Swimming, Singing</li>
          <li><strong>Reflections and Essays: </strong>''Stardust Meditations''</li>
          <a class="download-link" href="./assets/pdf/Stardust_Meditations.pdf" download>Click here to download: Stardust Meditations</a>
        </ul>
      </div>
    </div>
    
    <a href="#" class="back-btn" id="resume-back-btn">
      <i class="fas fa-arrow-left"></i>
    </a>
  </div>

  <!-- Social page -->
  <div id="social">
    <button id="toggle-btn-social">
      <span><i class="fas fa-sun"></i></span>
    </button>
    <div id="clock-social">GMT+8 00:00</div>
    <div class="container">
      <div class="social-heading">Connect With Me</div>
      
      <div class="social-grid">
        <!-- YouTube card -->
        <div class="social-card">
          <div class="social-icon"><i class="fab fa-youtube"></i></div>
          <div class="social-title">YouTube</div>
          <div class="social-description">My video content and playlists</div>
          <div style="display: flex; gap: 5px; justify-content: center; align-items: center;">
            <a href="https://www.youtube.com/channel/UCemKYMAMJk8FggZ5NI36i1Q" class="social-link" target="_blank">Channel</a>
            <span class="social-divider">/</span>
            <a href="https://www.youtube.com/@JinghaoChen-Stardust" class="social-link" target="_blank">Handle</a>
          </div>
        </div>
        
        <!-- TikTok card -->
        <div class="social-card">
          <div class="social-icon"><i class="fab fa-tiktok"></i></div>
          <div class="social-title">TikTok (Chinese)</div>
          <div class="social-description">Short-form videos in Chinese</div>
          <div style="display: flex; gap: 5px; justify-content: center; align-items: center;">
            <a href="https://www.douyin.com/user/MS4wLjABAAAAqb9M45SaGeb8yI28lL3lDFHm48c4kl32Xq7BfRk3I24" class="social-link" target="_blank">Link 1</a>
            <span class="social-divider">/</span>
            <a href="https://v.douyin.com/PzIS6mSXJGY/" class="social-link" target="_blank">Link 2</a>
          </div>
        </div>
        
        <!-- REDnote (Xiaohongshu) card -->
        <div class="social-card">
          <div class="social-icon"><i class="fas fa-book"></i></div>
          <div class="social-title">REDnote</div>
          <div class="social-description">Chinese lifestyle and knowledge sharing</div>
          <a href="https://www.xiaohongshu.com/user/profile/64c696da000000000b005093" class="social-link" target="_blank">Profile</a>
        </div>
        
        <!-- Quora card -->
        <div class="social-card">
          <div class="social-icon"><i class="fab fa-quora"></i></div>
          <div class="social-title">Quora</div>
          <div class="social-description">Various questions and answers</div>
          <a href="https://www.quora.com/profile/Jinghao-Chen-11/" class="social-link" target="_blank">Profile</a>
        </div>
        
        <!-- Twitter/X card -->
        <div class="social-card">
          <div class="social-icon"><i class="fab fa-twitter"></i></div>
          <div class="social-title">X (Twitter)</div>
          <div class="social-description">Notes and sharing</div>
          <a href="https://x.com/stardust_math" class="social-link" target="_blank">Profile</a>
        </div>
        
        <!-- Bilibili card -->
        <div class="social-card">
          <svg class="bilibili-icon" viewBox="0 0 24 24" width="2.5rem" height="2.5rem" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.99 6.5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H6.01a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h2.75l-1-3a.5.5 0 0 1 .33-.63l.94-.3a.5.5 0 0 1 .63.32l1.1 3.1h2.64l1.1-3.1a.5.5 0 0 1 .63-.32l.94.3a.5.5 0 0 1 .33.63l-1 3h2.75zm-2.74 2.5H8.75a1.5 1.5 0 0 0-1.5 1.5v3a1.5 1.5 0 0 0 1.5 1.5h6.5a1.5 1.5 0 0 0 1.5-1.5v-3a1.5 1.5 0 0 0-1.5-1.5z" fill="#3498db" stroke="#3498db" stroke-width="0.2"/>
            <circle cx="10.5" cy="11.5" r="1" fill="#3498db"/>
            <circle cx="13.5" cy="11.5" r="1" fill="#3498db"/>
          </svg>
          <div class="social-title">Bilibili</div>
          <div class="social-description">Chinese video platform for my content</div>
          <a href="https://space.bilibili.com/470364718" class="social-link" target="_blank">Channel</a>
        </div>

        <!-- GitHub card -->
        <div class="social-card">
          <div class="social-icon"><i class="fab fa-github"></i></div>
          <div class="social-title">GitHub</div>
          <div class="social-description">My code repositories and projects</div>
          <a href="https://github.com/Stardust-math" class="social-link" target="_blank">Profile</a>
        </div>
      </div>
    </div>
    
    <a href="#" class="back-btn" id="social-back-btn">
      <i class="fas fa-arrow-left"></i>
    </a>
  </div>

  <!-- Toolkit page -->
  <div id="toolkit">
    <button id="toggle-btn-toolkit">
      <span><i class="fas fa-sun"></i></span>
    </button>
    <div id="clock-toolkit">GMT+8 00:00</div>
    <div class="container">
      <div class="toolkit-heading">Academic Toolkit</div>
      
      <!-- Search box -->
      <div class="toolkit-search">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="Search tools by name..." id="toolkit-search-input">
        </div>
      </div>
      
      <!-- Category filters -->
      <div class="toolkit-filter">
        <button class="filter-btn active" data-category="all">All</button>
        <button class="filter-btn" data-category="development">Development</button>
        <button class="filter-btn" data-category="communication">Communication</button>
        <button class="filter-btn" data-category="media">Media & Video</button>
        <button class="filter-btn" data-category="music">Music</button>
        <button class="filter-btn" data-category="knowledge">Knowledge</button>
        <button class="filter-btn" data-category="productivity">Productivity</button>
        <button class="filter-btn" data-category="reference">Document and Management</button>
        <button class="filter-btn" data-category="ustc">USTC Services</button>
      </div>
      
      <!-- Development category -->
      <div class="category-section" data-category="development">
        <h3 class="category-title">Development</h3>
        <div class="toolkit-grid">
          <!-- GitHub -->
          <div class="toolkit-card" data-title="github" data-categories="development">
            <div class="toolkit-icon github-icon">
              <i class="fab fa-github"></i>
            </div>
            <div class="toolkit-title">GitHub</div>
            <a href="https://github.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Maple -->
          <div class="toolkit-card" data-title="maple" data-categories="development">
            <div class="toolkit-icon maple-icon">
              <i class="fas fa-calculator"></i>
            </div>
            <div class="toolkit-title">Maple</div>
            <a href="https://learn.maplesoft.com/doc" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- DeepSeek -->
          <div class="toolkit-card" data-title="deepseek" data-categories="development">
            <div class="toolkit-icon deepseek-icon">
              <i class="fas fa-robot"></i>
            </div>
            <div class="toolkit-title">DeepSeek</div>
            <a href="https://chat.deepseek.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- ChatGPT -->
          <div class="toolkit-card" data-title="chatgpt" data-categories="development">
            <div class="toolkit-icon chatgpt-icon">
              <i class="fas fa-comment-dots"></i>
            </div>
            <div class="toolkit-title">ChatGPT</div>
            <a href="https://chatgpt.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Grok -->
          <div class="toolkit-card" data-title="grok" data-categories="development">
            <div class="toolkit-icon grok-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toolkit-title">Grok</div>
            <a href="https://grok.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- DeepL -->
          <div class="toolkit-card" data-title="deepl" data-categories="development">
            <div class="toolkit-icon deepl-icon">
              <i class="fas fa-language"></i>
            </div>
            <div class="toolkit-title">DeepL</div>
            <a href="https://www.deepl.com/zh/translator" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Overleaf -->
          <div class="toolkit-card" data-title="overleaf" data-categories="development">
            <div class="toolkit-icon overleaf-icon">
              <i class="fas fa-leaf"></i>
            </div>
            <div class="toolkit-title">Overleaf</div>
            <a href="https://cn.overleaf.com/project" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Jupyter -->
          <div class="toolkit-card" data-title="jupyter" data-categories="development">
            <div class="toolkit-icon jupyter-icon">
              <i class="fas fa-code"></i>
            </div>
            <div class="toolkit-title">Jupyter</div>
            <a href="https://jupyter.org/try" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Wolfram Alpha -->
          <div class="toolkit-card" data-title="wolfram alpha" data-categories="development">
            <div class="toolkit-icon wolfram-icon">
              <i class="fas fa-infinity"></i>
            </div>
            <div class="toolkit-title">Wolfram Alpha</div>
            <a href="https://www.wolframalpha.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- GitLab -->
          <div class="toolkit-card" data-title="gitlab" data-categories="development">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#e24329,#6d4b41)">
              <i class="fab fa-gitlab"></i>
            </div>
            <div class="toolkit-title">GitLab</div>
            <a href="https://gitlab.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- CodeSandbox -->
          <div class="toolkit-card" data-title="codesandbox" data-categories="development">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#000000,#3d3d3d)">
              <i class="fas fa-laptop-code"></i>
            </div>
            <div class="toolkit-title">CodeSandbox</div>
            <a href="https://codesandbox.io/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- LeetCode -->
          <div class="toolkit-card" data-title="leetcode" data-categories="development">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#ffa116,#ff7b00)">
              <i class="fas fa-code"></i>
            </div>
            <div class="toolkit-title">LeetCode</div>
            <a href="https://leetcode.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Tableau -->
          <div class="toolkit-card" data-title="tableau" data-categories="datascience">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#5c6bc0,#3f51b5)">
              <i class="fas fa-chart-bar"></i>
            </div>
            <div class="toolkit-title">Tableau Public</div>
            <a href="https://public.tableau.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Colab -->
          <div class="toolkit-card" data-title="colab" data-categories="datascience">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#4285f4,#34a853)">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toolkit-title">Colab</div>
            <a href="https://colab.research.google.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>
      
      <!-- Communication category -->
      <div class="category-section" data-category="communication">
        <h3 class="category-title">Communication</h3>
        <div class="toolkit-grid">
          <!-- Gmail -->
          <div class="toolkit-card" data-title="gmail" data-categories="communication">
            <div class="toolkit-icon gmail-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="toolkit-title">Gmail</div>
            <a href="https://mail.google.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- QQ Mail -->
          <div class="toolkit-card" data-title="qq mail" data-categories="communication">
            <div class="toolkit-icon qqmail-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="toolkit-title">QQ Mail</div>
            <a href="https://mail.qq.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- NetEase Mail -->
          <div class="toolkit-card" data-title="netease mail" data-categories="communication">
            <div class="toolkit-icon neteasemail-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="toolkit-title">NetEase Mail</div>
            <a href="https://email.163.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Quora -->
          <div class="toolkit-card" data-title="quora" data-categories="communication">
            <div class="toolkit-icon quora-icon">
              <i class="fab fa-quora"></i>
            </div>
            <div class="toolkit-title">Quora</div>
            <a href="https://www.quora.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Twitter/X -->
          <div class="toolkit-card" data-title="twitter" data-categories="communication">
            <div class="toolkit-icon twitter-icon">
              <i class="fab fa-twitter"></i>
            </div>
            <div class="toolkit-title">X (Twitter)</div>
            <a href="https://x.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>
      
      <!-- Media & Video category -->
      <div class="category-section" data-category="media">
        <h3 class="category-title">Media & Video</h3>
        <div class="toolkit-grid">
          <!-- YouTube -->
          <div class="toolkit-card" data-title="youtube" data-categories="media">
            <div class="toolkit-icon youtube-icon">
              <i class="fab fa-youtube"></i>
            </div>
            <div class="toolkit-title">YouTube</div>
            <a href="https://www.youtube.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- TikTok -->
          <div class="toolkit-card" data-title="tiktok" data-categories="media">
            <div class="toolkit-icon tiktok-icon">
              <i class="fab fa-tiktok"></i>
            </div>
            <div class="toolkit-title">TikTok</div>
            <a href="https://www.douyin.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- REDnote -->
          <div class="toolkit-card" data-title="rednote" data-categories="media">
            <div class="toolkit-icon rednote-icon">
              <i class="fas fa-book"></i>
            </div>
            <div class="toolkit-title">REDnote</div>
            <a href="https://www.xiaohongshu.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Bilibili -->
          <div class="toolkit-card" data-title="bilibili" data-categories="media">
            <div class="toolkit-icon bilibili-icon">
              <i class="fas fa-play-circle"></i>
            </div>
            <div class="toolkit-title">Bilibili</div>
            <a href="https://www.bilibili.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- iQIYI -->
          <div class="toolkit-card" data-title="iqiyi" data-categories="media">
            <div class="toolkit-icon iqiyi-icon">
              <i class="fas fa-film"></i>
            </div>
            <div class="toolkit-title">iQIYI</div>
            <a href="https://www.iqiyi.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Tencent Video/WeTV -->
          <div class="toolkit-card" data-title="tencent video" data-categories="media">
            <div class="toolkit-icon tencent-icon">
              <i class="fas fa-tv"></i>
            </div>
            <div class="toolkit-title">Tencent Video</div>
            <div style="display: flex; gap: 5px; justify-content: center; align-items: center;">
              <a href="https://v.qq.com/" class="toolkit-link" target="_blank">Visit 1</a>
              <span class="social-divider">/</span>
              <a href="https://wetv.vip/" class="toolkit-link" target="_blank">Visit 2</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Music category -->
      <div class="category-section" data-category="music">
        <h3 class="category-title">Music</h3>
        <div class="toolkit-grid">
          <!-- QQ Music -->
          <div class="toolkit-card" data-title="qq music" data-categories="music">
            <div class="toolkit-icon qqmusic-icon">
              <i class="fas fa-music"></i>
            </div>
            <div class="toolkit-title">QQ Music</div>
            <a href="https://y.qq.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- NetEase Cloud Music -->
          <div class="toolkit-card" data-title="netease cloud music" data-categories="music">
            <div class="toolkit-icon neteasemusic-icon">
              <i class="fas fa-music"></i>
            </div>
            <div class="toolkit-title">NetEase Cloud Music</div>
            <a href="https://music.163.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- KuGou Music -->
          <div class="toolkit-card" data-title="kugou music" data-categories="music">
            <div class="toolkit-icon kugou-icon">
              <i class="fas fa-music"></i>
            </div>
            <div class="toolkit-title">KuGou Music</div>
            <a href="https://www.kugou.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Spotify -->
          <div class="toolkit-card" data-title="spotify" data-categories="music">
            <div class="toolkit-icon spotify-icon">
              <i class="fab fa-spotify"></i>
            </div>
            <div class="toolkit-title">Spotify</div>
            <a href="https://open.spotify.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>
      
      <!-- Knowledge category -->
      <div class="category-section" data-category="knowledge">
        <h3 class="category-title">Knowledge</h3>
        <div class="toolkit-grid">
          <!-- Wikipedia -->
          <div class="toolkit-card" data-title="wikipedia" data-categories="knowledge">
            <div class="toolkit-icon wikipedia-icon">
              <i class="fab fa-wikipedia-w"></i>
            </div>
            <div class="toolkit-title">Wikipedia</div>
            <a href="https://www.wikipedia.org/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Google Scholar -->
          <div class="toolkit-card" data-title="google scholar" data-categories="knowledge">
            <div class="toolkit-icon scholar-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="toolkit-title">Google Scholar</div>
            <a href="https://scholar.google.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Z-Library -->
          <div class="toolkit-card" data-title="z-library" data-categories="knowledge">
            <div class="toolkit-icon zlib-icon">
              <i class="fas fa-book"></i>
            </div>
            <div class="toolkit-title">Z-Library</div>
            <a href="https://zh.z-library.sk/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- CNKI -->
          <div class="toolkit-card" data-title="cnki" data-categories="knowledge">
            <div class="toolkit-icon cnki-icon">
              <i class="fas fa-search"></i>
            </div>
            <div class="toolkit-title">CNKI</div>
            <a href="https://www.cnki.net/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- ScienceDirect -->
          <div class="toolkit-card" data-title="sciencedirect" data-categories="knowledge">
            <div class="toolkit-icon sciencedirect-icon">
              <i class="fas fa-book-open"></i>
            </div>
            <div class="toolkit-title">ScienceDirect</div>
            <a href="https://www.sciencedirect.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
          
          <!-- Web of Science -->
          <div class="toolkit-card" data-title="web of science" data-categories="knowledge">
            <div class="toolkit-icon webofscience-icon">
              <i class="fas fa-globe"></i>
            </div>
            <div class="toolkit-title">Web of Science</div>
            <a href="https://www.webofscience.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- MathOverflow -->
          <div class="toolkit-card" data-title="mathoverflow" data-categories="knowledge">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#f39c12,#e67e22)">
              <i class="fas fa-square-root-alt"></i>
            </div>
            <div class="toolkit-title">MathOverflow</div>
            <a href="https://mathoverflow.net/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- OEIS -->
          <div class="toolkit-card" data-title="oeis" data-categories="knowledge">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#27ae60,#2ecc71)">
              <i class="fas fa-list-ol"></i>
            </div>
            <div class="toolkit-title">OEIS</div>
            <a href="https://oeis.org/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>

      <!-- Productivity category -->
      <div class="category-section" data-category="productivity">
        <h3 class="category-title">Productivity</h3>
        <div class="toolkit-grid">
          <!-- Notion -->
          <div class="toolkit-card" data-title="notion" data-categories="productivity">
            <div class="toolkit-icon notion-icon">
              <i class="fas fa-clipboard-list"></i>
            </div>
            <div class="toolkit-title">Notion</div>
            <a href="https://www.notion.so/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Obsidian -->
          <div class="toolkit-card" data-title="obsidian" data-categories="productivity">
            <div class="toolkit-icon obsidian-icon">
              <i class="fas fa-book"></i>
            </div>
            <div class="toolkit-title">Obsidian</div>
            <a href="https://obsidian.md/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Tencent Docs -->
          <div class="toolkit-card" data-title="tencent docs" data-categories="productivity">
            <div class="toolkit-icon tencentdocs-icon">
              <i class="fas fa-file-alt"></i>
            </div>
            <div class="toolkit-title">Tencent Docs</div>
            <a href="https://docs.qq.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Typora -->
          <div class="toolkit-card" data-title="typora" data-categories="productivity">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#333333,#666666)">
              <i class="fas fa-edit"></i>
            </div>
            <div class="toolkit-title">Typora</div>
            <a href="https://typora.io/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Yuque -->
          <div class="toolkit-card" data-title="yuque" data-categories="productivity">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#00b0ff,#0081cb)">
              <i class="fas fa-feather-alt"></i>
            </div>
            <div class="toolkit-title">Yuque</div>
            <a href="https://www.yuque.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Canva -->
          <div class="toolkit-card" data-title="canva" data-categories="productivity">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#00c4cc,#00a2ff)">
              <i class="fas fa-palette"></i>
            </div>
            <div class="toolkit-title">Canva</div>
            <a href="https://www.canva.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- Remove.bg -->
          <div class="toolkit-card" data-title="removebg" data-categories="productivity">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#5c6bc0,#3949ab)">
              <i class="fas fa-image"></i>
            </div>
            <div class="toolkit-title">Remove.bg</div>
            <a href="https://www.remove.bg/" class="toolkit-link" target="_blank">Visit</a>
          </div>

          <!-- TinyPNG -->
          <div class="toolkit-card" data-title="tinypng" data-categories="productivity">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#2ecc71,#27ae60)">
              <i class="fas fa-compress-alt"></i>
            </div>
            <div class="toolkit-title">TinyPNG</div>
            <a href="https://tinypng.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>

      <!-- Document and Management -->
      <div class="category-section" data-category="reference">
        <h3 class="category-title">Document and Management</h3>
        <div class="toolkit-grid">
          <!-- EndNote -->
          <div class="toolkit-card" data-title="endnote" data-categories="reference">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#2c3e50,#34495e)">
              <i class="fas fa-quote-right"></i>
            </div>
            <div class="toolkit-title">EndNote</div>
            <a href="http://www.myendnoteweb.com" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Zotero -->
          <div class="toolkit-card" data-title="zotero" data-categories="reference">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#5c6bc0,#3949ab)">
              <i class="fas fa-book"></i>
            </div>
            <div class="toolkit-title">Zotero</div>
            <a href="https://www.zotero.org/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Mendeley -->
          <div class="toolkit-card" data-title="mendeley" data-categories="reference">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#e74c3c,#c0392b)">
              <i class="fas fa-file-alt"></i>
            </div>
            <div class="toolkit-title">Mendeley</div>
            <a href="https://www.mendeley.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Academia -->
          <div class="toolkit-card" data-title="academia" data-categories="reference">
            <div class="toolkit-icon" style="background:linear-gradient(135deg,#3498db,#2980b9)">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="toolkit-title">Academia</div>
            <a href="https://www.academia.edu/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>

      <!-- USTC Services -->
      <div class="category-section" data-category="ustc">
        <h3 class="category-title">USTC Services</h3>
        <div class="toolkit-grid">
          <!-- Blackboard -->
          <div class="toolkit-card" data-title="ustc blackboard" data-categories="ustc">
            <div class="toolkit-icon ustc-blackboard-icon">
              <i class="fas fa-chalkboard"></i>
            </div>
            <div class="toolkit-title">USTC Blackboard</div>
            <a href="https://www.bb.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- USTC Mail -->
          <div class="toolkit-card" data-title="ustc mail" data-categories="ustc">
            <div class="toolkit-icon ustc-mail-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="toolkit-title">USTC Mail</div>
            <a href="https://email.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- USTC Flyer -->
          <div class="toolkit-card" data-title="ustc flyer" data-categories="ustc">
            <div class="toolkit-icon ustc-flyer-icon">
              <i class="fas fa-paper-plane"></i>
            </div>
            <div class="toolkit-title">USTC Flyer</div>
            <a href="https://ustcflyer.com/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- USTC Website -->
          <div class="toolkit-card" data-title="ustc website" data-categories="ustc">
            <div class="toolkit-icon ustc-website-icon">
              <i class="fas fa-globe"></i>
            </div>
            <div class="toolkit-title">USTC Website</div>
            <a href="https://www.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Integrated Academic Affairs System -->
          <div class="toolkit-card" data-title="ustc jw" data-categories="ustc">
            <div class="toolkit-icon ustc-jw-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="toolkit-title">Academic Affairs System</div>
            <a href="https://jw.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- USTC Course Review Community -->
          <div class="toolkit-card" data-title="ustc icourse" data-categories="ustc">
            <div class="toolkit-icon ustc-icourse-icon">
              <i class="fas fa-comments"></i>
            </div>
            <div class="toolkit-title">Course Review Community</div>
            <a href="https://icourse.club/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- USTC Software -->
          <div class="toolkit-card" data-title="ustc software" data-categories="ustc">
            <div class="toolkit-icon ustc-software-icon">
              <i class="fas fa-download"></i>
            </div>
            <div class="toolkit-title">USTC Software</div>
            <a href="https://software.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
    
          <!-- Hanhai Teaching Network -->
          <div class="toolkit-card" data-title="ustc hanhai" data-categories="ustc">
            <div class="toolkit-icon ustc-hanhai-icon">
              <i class="fas fa-video"></i>
            </div>
            <div class="toolkit-title">Hanhai Teaching Network</div>
            <a href="https://course.ustc.edu.cn/" class="toolkit-link" target="_blank">Visit</a>
          </div>
        </div>
      </div>
      
      <!-- No results message -->
      <div class="no-results" style="display: none;">
        No matching tools found. Try a different search term.
      </div>
    </div>
    
    <a href="#" class="back-btn" id="toolkit-back-btn">
      <i class="fas fa-arrow-left"></i>
    </a>
  </div>

  <!-- Schedule Page -->
  <div id="schedule">
    <button id="toggle-btn-schedule">
      <span><i class="fas fa-sun"></i></span>
    </button>
    <div id="clock-schedule">GMT+8 00:00</div>
    <div class="container">
      <div class="schedule-heading">My Schedule</div>
      
      <div class="schedule-container">
        <div class="schedule-switcher">
          <button class="schedule-switch-btn active" data-view="calendar">Calendar</button>
          <button class="schedule-switch-btn" data-view="timetable">Timetable</button>
          <!-- USTC Timetable button -->
          <button class="schedule-switch-btn" data-view="ustc-timetable">USTC Timetable</button>
          <!-- My Timetable button -->
          <button class="schedule-switch-btn" data-view="my-timetable">My Timetable</button>
        </div>
        
        <!-- Calendar Section -->
        <div class="schedule-section active" id="calendar-section">
          <div id="calendar-container"></div>
          <button class="add-event-btn" id="add-calendar-event">
            <i class="fas fa-plus"></i> Add Event
          </button>
        </div>
        
        <!-- Timetable Section -->
        <div class="schedule-section" id="timetable-section">
          <div class="week-navigation">
            <button class="week-nav-btn" id="prev-week-btn">
              <i class="fas fa-chevron-left"></i>
            </button>
            <div class="week-title" id="current-week">Week of Mon, Jan 1 - Sun, Jan 7</div>
            <button class="week-nav-btn" id="next-week-btn">
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>
          
          <div class="timetable-container">
            <table class="timetable" id="timetable">
              <thead>
                <tr>
                  <th>Time</th>
                  <th>Monday</th>
                  <th>Tuesday</th>
                  <th>Wednesday</th>
                  <th>Thursday</th>
                  <th>Friday</th>
                  <th>Saturday</th>
                  <th>Sunday</th>
                </tr>
              </thead>
              <tbody id="timetable-body">
                <!-- Timetable rows will be generated by JavaScript -->
              </tbody>
            </table>
          </div>
          
          <button class="add-event-btn" id="add-timetable-event">
            <i class="fas fa-plus"></i> Add Class/Event
          </button>
        </div>
        
        <!-- USTC Timetable Section -->
        <div class="schedule-section" id="ustc-timetable-section">
          <div class="timetable-container">
            <table class="timetable" id="ustc-timetable">
              <thead>
                <tr>
                  <th>Period</th>
                  <th>Period Number</th>
                  <th>Monday</th>
                  <th>Tuesday</th>
                  <th>Wednesday</th>
                  <th>Thursday</th>
                  <th>Friday</th>
                  <th>Saturday</th>
                  <th>Sunday</th>
                </tr>
              </thead>
              <tbody>
                <!-- Morning Section -->
                <tr>
                  <td rowspan="5" class="period-header">Morning</td>
                  <td class="period-number">1</td>
                  <td data-period="1" data-day="1"></td>
                  <td data-period="1" data-day="2"></td>
                  <td data-period="1" data-day="3"></td>
                  <td data-period="1" data-day="4"></td>
                  <td data-period="1" data-day="5"></td>
                  <td data-period="1" data-day="6"></td>
                  <td data-period="1" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">2</td>
                  <td data-period="2" data-day="1"></td>
                  <td data-period="2" data-day="2"></td>
                  <td data-period="2" data-day="3"></td>
                  <td data-period="2" data-day="4"></td>
                  <td data-period="2" data-day="5"></td>
                  <td data-period="2" data-day="6"></td>
                  <td data-period="2" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">3</td>
                  <td data-period="3" data-day="1"></td>
                  <td data-period="3" data-day="2"></td>
                  <td data-period="3" data-day="3"></td>
                  <td data-period="3" data-day="4"></td>
                  <td data-period="3" data-day="5"></td>
                  <td data-period="3" data-day="6"></td>
                  <td data-period="3" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">4</td>
                  <td data-period="4" data-day="1"></td>
                  <td data-period="4" data-day="2"></td>
                  <td data-period="4" data-day="3"></td>
                  <td data-period="4" data-day="4"></td>
                  <td data-period="4" data-day="5"></td>
                  <td data-period="4" data-day="6"></td>
                  <td data-period="4" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">5</td>
                  <td data-period="5" data-day="1"></td>
                  <td data-period="5" data-day="2"></td>
                  <td data-period="5" data-day="3"></td>
                  <td data-period="5" data-day="4"></td>
                  <td data-period="5" data-day="5"></td>
                  <td data-period="5" data-day="6"></td>
                  <td data-period="5" data-day="0"></td>
                </tr>
                
                <!-- Afternoon Section -->
                <tr>
                  <td rowspan="5" class="period-header">Afternoon</td>
                  <td class="period-number">6</td>
                  <td data-period="6" data-day="1"></td>
                  <td data-period="6" data-day="2"></td>
                  <td data-period="6" data-day="3"></td>
                  <td data-period="6" data-day="4"></td>
                  <td data-period="6" data-day="5"></td>
                  <td data-period="6" data-day="6"></td>
                  <td data-period="6" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">7</td>
                  <td data-period="7" data-day="1"></td>
                  <td data-period="7" data-day="2"></td>
                  <td data-period="7" data-day="3"></td>
                  <td data-period="7" data-day="4"></td>
                  <td data-period="7" data-day="5"></td>
                  <td data-period="7" data-day="6"></td>
                  <td data-period="7" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">8</td>
                  <td data-period="8" data-day="1"></td>
                  <td data-period="8" data-day="2"></td>
                  <td data-period="8" data-day="3"></td>
                  <td data-period="8" data-day="4"></td>
                  <td data-period="8" data-day="5"></td>
                  <td data-period="8" data-day="6"></td>
                  <td data-period="8" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">9</td>
                  <td data-period="9" data-day="1"></td>
                  <td data-period="9" data-day="2"></td>
                  <td data-period="9" data-day="3"></td>
                  <td data-period="9" data-day="4"></td>
                  <td data-period="9" data-day="5"></td>
                  <td data-period="9" data-day="6"></td>
                  <td data-period="9" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">10</td>
                  <td data-period="10" data-day="1"></td>
                  <td data-period="10" data-day="2"></td>
                  <td data-period="10" data-day="3"></td>
                  <td data-period="10" data-day="4"></td>
                  <td data-period="10" data-day="5"></td>
                  <td data-period="10" data-day="6"></td>
                  <td data-period="10" data-day="0"></td>
                </tr>
                
                <!-- Evening Section -->
                <tr>
                  <td rowspan="3" class="period-header">Evening</td>
                  <td class="period-number">11</td>
                  <td data-period="11" data-day="1"></td>
                  <td data-period="11" data-day="2"></td>
                  <td data-period="11" data-day="3"></td>
                  <td data-period="11" data-day="4"></td>
                  <td data-period="11" data-day="5"></td>
                  <td data-period="11" data-day="6"></td>
                  <td data-period="11" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">12</td>
                  <td data-period="12" data-day="1"></td>
                  <td data-period="12" data-day="2"></td>
                  <td data-period="12" data-day="3"></td>
                  <td data-period="12" data-day="4"></td>
                  <td data-period="12" data-day="5"></td>
                  <td data-period="12" data-day="6"></td>
                  <td data-period="12" data-day="0"></td>
                </tr>
                <tr>
                  <td class="period-number">13</td>
                  <td data-period="13" data-day="1"></td>
                  <td data-period="13" data-day="2"></td>
                  <td data-period="13" data-day="3"></td>
                  <td data-period="13" data-day="4"></td>
                  <td data-period="13" data-day="5"></td>
                  <td data-period="13" data-day="6"></td>
                  <td data-period="13" data-day="0"></td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <button class="add-event-btn" id="add-ustc-event">
            <i class="fas fa-plus"></i> Add Class
          </button>
          
          <!-- USTC Classes List -->
          <div class="ustc-classes-container" id="ustc-classes-container">
            <h3 style="text-align: center; margin-top: 20px;">My Classes</h3>
            <table class="ustc-classes-table" id="ustc-classes-table">
              <thead>
                <tr>
                  <th>Period Range</th>
                  <th>Course Name</th>
                  <th>Instructor</th>
                  <th>Location</th>
                  <th>Weeks</th>
                  <th>Days</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="ustc-classes-body">
                <!-- Classes will be added here -->
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- My Timetable Section -->
        <div class="schedule-section" id="my-timetable-section">
          <div class="semester-selector">
            <div class="semester-dropdown">
              <button class="semester-dropdown-btn">
                Select Semester <i class="fas fa-caret-down"></i>
              </button>
              <div class="semester-dropdown-content">
                <a href="#" data-semester="freshman-first">Freshman Year - First Semester</a>
                <a href="#" data-semester="freshman-second">Freshman Year - Second Semester</a>
                <a href="#" data-semester="sophomore-first">Sophomore Year - First Semester</a>
                <a href="#" data-semester="sophomore-second">Sophomore Year - Second Semester</a>
                <a href="#" data-semester="junior-first">Junior Year - First Semester</a>
                <a href="#" data-semester="junior-second">Junior Year - Second Semester</a>
                <a href="#" data-semester="senior-first">Senior Year - First Semester</a>
                <a href="#" data-semester="senior-second">Senior Year - Second Semester</a>
              </div>
            </div>
          </div>
          
          <!-- Freshman Year - First Semester -->
          <div class="semester-timetable-container active" id="freshman-first">
            <h3 class="semester-title">Freshman Year - First Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="freshman-first-timetable">
                <thead>
                  <tr>
                    <th>Period</th>
                    <th>Period Number</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                    <th>Sunday</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Morning Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Morning</td>
                    <td class="period-number">1</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">7:50</div>
                      <div class="time-info end-info">8:35</div>
                      <div class="course-container">
                        <div class="course-name">英语读写I</div>
                        <div class="instructor">斯骏</div>
                        <div class="location">2409</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">7:50</div>
                      <div class="time-info end-info">8:35</div>
                      <div class="course-container">
                        <div class="course-name">代数学基础</div>
                        <div class="instructor">马立明</div>
                        <div class="location">5202</div>
                        <div class="weeks">2-4, 6-15, 17-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">2</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">8:40</div>
                      <div class="time-info end-info">9:25</div>
                      <div class="course-container">
                        <div class="course-name">英语读写I</div>
                        <div class="instructor">斯骏</div>
                        <div class="location">2409</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">8:40</div>
                      <div class="time-info end-info">9:25</div>
                      <div class="course-container">
                        <div class="course-name">代数学基础</div>
                        <div class="instructor">马立明</div>
                        <div class="location">5202</div>
                        <div class="weeks">2-4, 6-15, 17-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">3</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">9:45</div>
                      <div class="time-info end-info">10:30</div>
                      <div class="course-container">
                        <div class="course-name">数学分析(A1)</div>
                        <div class="instructor">任广斌</div>
                        <div class="location">5102</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">9:45</div>
                      <div class="time-info end-info">10:30</div>
                      <div class="course-container">
                        <div class="course-name">几何学基础</div>
                        <div class="instructor">赵晨</div>
                        <div class="location">5202</div>
                        <div class="weeks">2-4, 6-17 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">4</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">10:35</div>
                      <div class="time-info end-info">11:20</div>
                      <div class="course-container">
                        <div class="course-name">数学分析(A1)</div>
                        <div class="instructor">任广斌</div>
                        <div class="location">5102</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">10:35</div>
                      <div class="time-info end-info">11:20</div>
                      <div class="course-container">
                        <div class="course-name">几何学基础</div>
                        <div class="instructor">赵晨</div>
                        <div class="location">5202</div>
                        <div class="weeks">2-4, 6-17 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">5</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Afternoon Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Afternoon</td>
                    <td class="period-number">6</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">14:00</div>
                      <div class="time-info end-info">14:45</div>
                      <div class="course-container">
                        <div class="course-name">基础体育</div>
                        <div class="instructor">唐莉</div>
                        <div class="location">东区操场</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">7</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">14:50</div>
                      <div class="time-info end-info">15:35</div>
                      <div class="course-container">
                        <div class="course-name">基础体育</div>
                        <div class="instructor">唐莉</div>
                        <div class="location">东区操场</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">8</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">15:55</div>
                      <div class="time-info end-info">16:40</div>
                      <div class="course-container">
                        <div class="course-name">思想道德与法治</div>
                        <div class="instructor">刘海龙, 韩笑</div>
                        <div class="location">1302</div>
                        <div class="weeks">2-4, 6-17 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">15:55</div>
                      <div class="time-info end-info">16:40</div>
                      <div class="course-container">
                        <div class="course-name">习近平新时代中国特色社会主义思想概论</div>
                        <div class="instructor">李金龙</div>
                        <div class="location">5104</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">9</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">16:45</div>
                      <div class="time-info end-info">17:30</div>
                      <div class="course-container">
                        <div class="course-name">思想道德与法治</div>
                        <div class="instructor">刘海龙, 韩笑</div>
                        <div class="location">1302</div>
                        <div class="weeks">2-4, 6-17 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">16:45</div>
                      <div class="time-info end-info">17:30</div>
                      <div class="course-container">
                        <div class="course-name">习近平新时代中国特色社会主义思想概论</div>
                        <div class="instructor">李金龙</div>
                        <div class="location">5104</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">10</td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">17:35</div>
                      <div class="time-info end-info">18:20</div>
                      <div class="course-container">
                        <div class="course-name">思想道德与法治</div>
                        <div class="instructor">刘海龙, 韩笑</div>
                        <div class="location">1302</div>
                        <div class="weeks">2-4, 6-17 weeks</div>
                      </div>
                    </td>
                    <td class="has-class event-cell">
                      <div class="time-info start-info">17:35</div>
                      <div class="time-info end-info">18:20</div>
                      <div class="course-container">
                        <div class="course-name">习近平新时代中国特色社会主义思想概论</div>
                        <div class="instructor">李金龙</div>
                        <div class="location">5104</div>
                        <div class="weeks">2-4, 6-18 weeks</div>
                      </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Evening Section -->
                  <tr>
                    <td rowspan="3" class="period-header">Evening</td>
                    <td class="period-number">11</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">12</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">13</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
          <!-- Empty timetables for other semesters -->
          <div class="semester-timetable-container" id="freshman-second">
            <h3 class="semester-title">Freshman Year - Second Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="freshman-second-timetable">
                <thead>
                  <tr>
                    <th>Period</th>
                    <th>Period Number</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                    <th>Sunday</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Morning Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Morning</td>
                    <td class="period-number">1</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">2</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">3</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">4</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">5</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Afternoon Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Afternoon</td>
                    <td class="period-number">6</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">7</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">8</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">9</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">10</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Evening Section -->
                  <tr>
                    <td rowspan="3" class="period-header">Evening</td>
                    <td class="period-number">11</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">12</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">13</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="sophomore-first">
            <h3 class="semester-title">Sophomore Year - First Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="sophomore-first-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <thead>
                  <tr>
                    <th>Period</th>
                    <th>Period Number</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                    <th>Sunday</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Morning Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Morning</td>
                    <td class="period-number">1</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">2</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">3</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">4</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">5</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Afternoon Section -->
                  <tr>
                    <td rowspan="5" class="period-header">Afternoon</td>
                    <td class="period-number">6</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">7</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">8</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">9</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">10</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  
                  <!-- Evening Section -->
                  <tr>
                    <td rowspan="3" class="period-header">Evening</td>
                    <td class="period-number">11</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">12</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td class="period-number">13</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="sophomore-second">
            <h3 class="semester-title">Sophomore Year - Second Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="sophomore-second-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <!-- Content omitted for brevity, same structure as freshman-second -->
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="junior-first">
            <h3 class="semester-title">Junior Year - First Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="junior-first-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <!-- Content omitted for brevity, same structure as freshman-second -->
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="junior-second">
            <h3 class="semester-title">Junior Year - Second Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="junior-second-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <!-- Content omitted for brevity, same structure as freshman-second -->
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="senior-first">
            <h3 class="semester-title">Senior Year - First Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="senior-first-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <!-- Content omitted for brevity, same structure as freshman-second -->
              </table>
            </div>
          </div>
          
          <div class="semester-timetable-container" id="senior-second">
            <h3 class="semester-title">Senior Year - Second Semester</h3>
            <div class="timetable-container">
              <table class="timetable" id="senior-second-timetable">
                <!-- Empty timetable structure same as freshman-second -->
                <!-- Content omitted for brevity, same structure as freshman-second -->
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <a href="#" class="back-btn" id="schedule-back-btn">
      <i class="fas fa-arrow-left"></i>
    </a>
    
    <!-- Event Modal -->
    <div class="event-modal" id="event-modal">
      <div class="event-modal-content">
        <span class="event-modal-close" id="event-modal-close">&times;</span>
        <h3 class="event-modal-title" id="event-modal-title">Add New Class</h3>
        
        <form id="event-form">
          <input type="hidden" id="event-id">
          <input type="hidden" id="event-type">
          
          <div class="event-form-group">
            <label for="ustc-period-start">Period Start</label>
            <select id="ustc-period-start" class="event-form-control" required>
              <option value="1">1 (7:50-8:35)</option>
              <option value="2">2 (8:40-9:25)</option>
              <option value="3">3 (9:45-10:30)</option>
              <option value="4">4 (10:35-11:20)</option>
              <option value="5">5 (11:25-12:10)</option>
              <option value="6">6 (14:00-14:45)</option>
              <option value="7">7 (14:50-15:35)</option>
              <option value="8">8 (15:55-16:40)</option>
              <option value="9">9 (16:45-17:30)</option>
              <option value="10">10 (17:35-18:20)</option>
              <option value="11">11 (19:30-20:15)</option>
              <option value="12">12 (20:20-21:05)</option>
              <option value="13">13 (21:10-21:55)</option>
            </select>
          </div>
          
          <div class="event-form-group">
            <label for="ustc-period-end">Period End</label>
            <select id="ustc-period-end" class="event-form-control" required>
              <option value="1">1 (7:50-8:35)</option>
              <option value="2">2 (8:40-9:25)</option>
              <option value="3">3 (9:45-10:30)</option>
              <option value="4">4 (10:35-11:20)</option>
              <option value="5">5 (11:25-12:10)</option>
              <option value="6">6 (14:00-14:45)</option>
              <option value="7">7 (14:50-15:35)</option>
              <option value="8">8 (15:55-16:40)</option>
              <option value="9">9 (16:45-17:30)</option>
              <option value="10">10 (17:35-18:20)</option>
              <option value="11">11 (19:30-20:15)</option>
              <option value="12">12 (20:20-21:05)</option>
              <option value="13">13 (21:10-21:55)</option>
            </select>
          </div>
          
          <div class="event-form-group">
            <label for="ustc-course-name">Course Name</label>
            <input type="text" id="ustc-course-name" class="event-form-control" required>
          </div>
          
          <div class="event-form-group">
            <label for="ustc-instructor">Instructor</label>
            <input type="text" id="ustc-instructor" class="event-form-control" required>
          </div>
          
          <div class="event-form-group">
            <label for="ustc-location">Location</label>
            <input type="text" id="ustc-location" class="event-form-control" required>
          </div>
          
          <div class="event-form-group">
            <label>Days</label>
            <div class="days-container">
              <label><input type="checkbox" name="ustc-day" value="1"> Mon</label>
              <label><input type="checkbox" name="ustc-day" value="2"> Tue</label>
              <label><input type="checkbox" name="ustc-day" value="3"> Wed</label>
              <label><input type="checkbox" name="ustc-day" value="4"> Thu</label>
              <label><input type="checkbox" name="ustc-day" value="5"> Fri</label>
              <label><input type="checkbox" name="ustc-day" value="6"> Sat</label>
              <label><input type="checkbox" name="ustc-day" value="0"> Sun</label>
            </div>
          </div>
          
          <div class="event-form-group weeks-container">
            <div class="weeks-title">Teaching Weeks (1-18)</div>
            <div class="weeks-grid" id="weeks-grid">
              <!-- Weeks checkboxes will be generated here -->
            </div>
            <div class="week-display" id="week-display"></div>
          </div>
          
          <div class="event-form-actions">
            <button type="button" class="event-form-btn event-form-btn-delete" id="event-delete-btn" style="display: none;">Delete</button>
            <button type="button" class="event-form-btn event-form-btn-cancel" id="event-cancel-btn">Cancel</button>
            <button type="submit" class="event-form-btn event-form-btn-save">Save</button>
          </div>
        </form>
      </div>
    </div>
    
    <!-- General event modal -->
    <div class="event-modal" id="general-event-modal">
      <div class="event-modal-content">
        <span class="event-modal-close" id="general-event-modal-close">&times;</span>
        <h3 class="event-modal-title" id="general-event-modal-title">Add New Event</h3>
        
        <form id="general-event-form">
          <input type="hidden" id="general-event-id">
          <input type="hidden" id="general-event-type">
          
          <div class="event-form-group">
            <label for="event-title">Event Title</label>
            <input type="text" id="event-title" class="event-form-control" required>
          </div>
          
          <div class="event-form-group">
            <label for="event-description">Description</label>
            <textarea id="event-description" class="event-form-control" rows="3"></textarea>
          </div>
          
          <div class="event-form-group">
            <label for="event-start">Start</label>
            <input type="datetime-local" id="event-start" class="event-form-control" required>
          </div>
          
          <div class="event-form-group">
            <label for="event-end">End</label>
            <input type="datetime-local" id="event-end" class="event-form-control" required>
          </div>
          
          <div class="event-form-group" id="recurring-container" style="display: none;">
            <label>
              <input type="checkbox" id="event-recurring"> Recurring Event
            </label>
          </div>
          
          <div class="event-form-actions">
            <button type="button" class="event-form-btn event-form-btn-delete" id="general-event-delete-btn" style="display: none;">Delete</button>
            <button type="button" class="event-form-btn event-form-btn-cancel" id="general-event-cancel-btn">Cancel</button>
            <button type="submit" class="event-form-btn event-form-btn-save">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // USTC Timetable period definitions
    const periodTimes = {
      1: { start: '7:50', end: '8:35' },
      2: { start: '8:40', end: '9:25' },
      3: { start: '9:45', end: '10:30' },
      4: { start: '10:35', end: '11:20' },
      5: { start: '11:25', end: '12:10' },
      6: { start: '14:00', end: '14:45' },
      7: { start: '14:50', end: '15:35' },
      8: { start: '15:55', end: '16:40' },
      9: { start: '16:45', end: '17:30' },
      10: { start: '17:35', end: '18:20' },
      11: { start: '19:30', end: '20:15' },
      12: { start: '20:20', end: '21:05' },
      13: { start: '21:10', end: '21:55' }
    };

    // USTC classes storage
    let ustcClasses = JSON.parse(localStorage.getItem('ustcClasses')) || [];

    // General events storage
    let calendarEvents = JSON.parse(localStorage.getItem('calendarEvents')) || [];
    let timetableEvents = JSON.parse(localStorage.getItem('timetableEvents')) || [];
    
    // Preserve initial timetable HTML
    const timetableTbody = document.querySelector('#ustc-timetable tbody');
    const timetableTbodyInitialHTML = timetableTbody.innerHTML;
    
    // Initialize custom cursor functionality
    document.addEventListener('DOMContentLoaded', function() {
      const cursorOuter = document.querySelector('.cursor-outer');
      const cursorInner = document.querySelector('.cursor-inner');
      const positions = { mouseX: 0, mouseY: 0 };
      
      // Track cursor position
      document.addEventListener('mousemove', (e) => {
        positions.mouseX = e.clientX;
        positions.mouseY = e.clientY;
        
        cursorOuter.style.left = `${positions.mouseX}px`;
        cursorOuter.style.top = `${positions.mouseY}px`;
        cursorInner.style.left = `${positions.mouseX}px`;
        cursorInner.style.top = `${positions.mouseY}px`;
      });
      
      // Click effect
      document.addEventListener('mousedown', (e) => {
        cursorInner.classList.add('click');
        
        // Create ripple effect
        const ripple = document.createElement('div');
        ripple.classList.add('ripple');
        ripple.style.left = `${e.clientX}px`;
        ripple.style.top = `${e.clientY}px`;
        document.body.appendChild(ripple);
        
        // Cleanup after animation
        setTimeout(() => {
          ripple.remove();
        }, 600);
      });
      
      document.addEventListener('mouseup', () => {
        cursorInner.classList.remove('click');
      });
      
      // Hover effect
      const hoverElements = document.querySelectorAll('a, button, [role="button"], #about-btn, #social-btn, #toolkit-btn, #schedule-btn');
      hoverElements.forEach(el => {
        el.addEventListener('mouseenter', () => {
          cursorInner.classList.add('hover');
        });
        
        el.addEventListener('mouseleave', () => {
          cursorInner.classList.remove('hover');
        });
      });

      // Initialize theme
      initializeTheme();
      
      // Initialize toolkit filters
      initToolkitFilter();
      
      // Initialize schedule page
      initSchedulePage();
      
      // Initialize clock toggle
      initClockToggle();
      
      // Initialize weeks selection
      initWeeksSelection();
      
      // Initialize semester selection
      initSemesterSelection();
    });

    // Page elements
    const cover = document.getElementById("cover");
    const resume = document.getElementById("resume");
    const social = document.getElementById("social");
    const toolkit = document.getElementById("toolkit");
    const schedule = document.getElementById("schedule");
    const avatarFrame = document.getElementById("avatar-frame");
    const name = document.getElementById("name");
    const slogan = document.getElementById("slogan");
    const aboutBtn = document.getElementById("about-btn");
    const socialBtn = document.getElementById("social-btn");
    const toolkitBtn = document.getElementById("toolkit-btn");
    const scheduleBtn = document.getElementById("schedule-btn");
    const toggleBtn = document.getElementById("toggle-btn");
    const toggleBtnSocial = document.getElementById("toggle-btn-social");
    const toggleBtnToolkit = document.getElementById("toggle-btn-toolkit");
    const toggleBtnSchedule = document.getElementById("toggle-btn-schedule");
    const clock = document.getElementById("clock");
    const clockSocial = document.getElementById("clock-social");
    const clockToolkit = document.getElementById("clock-toolkit");
    const clockSchedule = document.getElementById("clock-schedule");
    const resumeBackBtn = document.getElementById("resume-back-btn");
    const socialBackBtn = document.getElementById("social-back-btn");
    const toolkitBackBtn = document.getElementById("toolkit-back-btn");
    const scheduleBackBtn = document.getElementById("schedule-back-btn");

    let coverHidden = false;
    let currentPage = null;
    let calendar; // FullCalendar instance
    let currentWeek = new Date(); // Timetable current week
    
    // Animated display of cover elements
    function showCoverElements() {
      avatarFrame.classList.add("visible");
      setTimeout(() => {
        name.classList.add("visible");
      }, 400);
      setTimeout(() => {
        slogan.classList.add("visible");
      }, 800);
      setTimeout(() => {
        aboutBtn.classList.add("visible");
        socialBtn.classList.add("visible");
        toolkitBtn.classList.add("visible");
        scheduleBtn.classList.add("visible");
      }, 1200);

      // Hide clock toggle initially
      const clockToggle = document.querySelector('.clock-toggle');
      if (clockToggle) clockToggle.style.display = 'none';
    }

    // Transition from cover to content page
    function showPage(page) {
      if (coverHidden && currentPage === page) return;
      
      cover.classList.add("hidden");
      setTimeout(() => {
        cover.style.display = "none";
        document.body.style.overflow = "auto";
        coverHidden = true;
        
        // Hide all pages
        resume.classList.remove("visible");
        social.classList.remove("visible");
        toolkit.classList.remove("visible");
        schedule.classList.remove("visible");
        
        // Show selected page
        if (page === 'resume') {
          resume.classList.add("visible");
          currentPage = 'resume';
          setTimeout(() => {
            resumeBackBtn.classList.add("visible");
          }, 500);
        } else if (page === 'social') {
          social.classList.add("visible");
          currentPage = 'social';
          setTimeout(() => {
            socialBackBtn.classList.add("visible");
          }, 500);
        } else if (page === 'toolkit') {
          toolkit.classList.add("visible");
          currentPage = 'toolkit';
          setTimeout(() => {
            toolkitBackBtn.classList.add("visible");
          }, 500);
        } else if (page === 'schedule') {
          schedule.classList.add("visible");
          currentPage = 'schedule';
          setTimeout(() => {
            scheduleBackBtn.classList.add("visible");
          }, 500);
        }
      }, 1500);
      
      avatarFrame.classList.remove("visible");
      name.classList.remove("visible");
      slogan.classList.remove("visible");
      aboutBtn.classList.remove("visible");
      socialBtn.classList.remove("visible");
      toolkitBtn.classList.remove("visible");
      scheduleBtn.classList.remove("visible");

      // Show clock toggle
      const clockToggle = document.querySelector('.clock-toggle');
      if (clockToggle) clockToggle.style.display = 'flex';
    }

    // Return to cover page
    function backToCover() {
      coverHidden = false;
      cover.style.display = "flex";
      cover.classList.remove("hidden");
      
      // Hide all pages and back buttons
      resume.classList.remove("visible");
      social.classList.remove("visible");
      toolkit.classList.remove("visible");
      schedule.classList.remove("visible");
      resumeBackBtn.classList.remove("visible");
      socialBackBtn.classList.remove("visible");
      toolkitBackBtn.classList.remove("visible");
      scheduleBackBtn.classList.remove("visible");
      
      // Reset cover elements
      setTimeout(() => {
        cover.classList.add("visible");
        showCoverElements();
      }, 100);
    }

    // Initialize on page load
    window.addEventListener("load", () => {
      cover.classList.add("visible");
      showCoverElements();
      startClock();
    });

    // Button event handlers
    aboutBtn.addEventListener("click", () => showPage('resume'));
    socialBtn.addEventListener("click", () => showPage('social'));
    toolkitBtn.addEventListener("click", () => showPage('toolkit'));
    scheduleBtn.addEventListener("click", () => showPage('schedule'));
    resumeBackBtn.addEventListener("click", backToCover);
    socialBackBtn.addEventListener("click", backToCover);
    toolkitBackBtn.addEventListener("click", backToCover);
    scheduleBackBtn.addEventListener("click", backToCover);

    // Theme management functions
    function initializeTheme() {
      const currentHour = new Date().getHours();
      const isNightTime = currentHour >= 18 || currentHour < 6;
      applyTheme(isNightTime ? 'dark' : 'light');
      updateToggleBtnIcon();
    }

    // Theme toggle functionality
    toggleBtn.addEventListener("click", toggleTheme);
    toggleBtnSocial.addEventListener("click", toggleTheme);
    toggleBtnToolkit.addEventListener("click", toggleTheme);
    toggleBtnSchedule.addEventListener("click", toggleTheme);

    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
      updateToggleBtnIcon();
      updateCalendarTheme();
    }

    function applyTheme(theme) {
      if (theme === "dark") {
        document.body.classList.add("dark-mode");
      } else {
        document.body.classList.remove("dark-mode");
      }
    }

    function updateToggleBtnIcon() {
      const isDark = document.body.classList.contains("dark-mode");
      
      // Update all theme toggle buttons
      const toggleButtons = document.querySelectorAll("#toggle-btn, #toggle-btn-social, #toggle-btn-toolkit, #toggle-btn-schedule");
      
      toggleButtons.forEach(button => {
        const icon = button.querySelector("i");
        if (isDark) {
          icon.classList.remove("fa-sun");
          icon.classList.add("fa-moon");
        } else {
          icon.classList.remove("fa-moon");
          icon.classList.add("fa-sun");
        }
      });
    }

    // Clock functionality
    function startClock() {
      updateClock();
      setInterval(updateClock, 1000);
    }

    function updateClock() {
      const now = new Date();
      const timeZoneName = now.toLocaleTimeString("en-us", { timeZoneName: "short" }).split(" ").pop();
      const hours = now.getHours().toString().padStart(2, "0");
      const mins = now.getMinutes().toString().padStart(2, "0");
      const timeString = `${timeZoneName} ${hours}:${mins}`;
      
      clock.textContent = timeString;
      clockSocial.textContent = timeString;
      clockToolkit.textContent = timeString;
      clockSchedule.textContent = timeString;
    }
    
    // Clock toggle functionality
    function initClockToggle() {
      const clockToggle = document.getElementById("clock-toggle");
      const clocks = [clock, clockSocial, clockToolkit, clockSchedule];
      
      // Initial state: clocks expanded
      let clocksCollapsed = false;
      
      clockToggle.addEventListener("click", () => {
        clocksCollapsed = !clocksCollapsed;
        
        // Update all clocks
        clocks.forEach(clockElement => {
          if (clocksCollapsed) {
            clockElement.classList.add("collapsed");
          } else {
            clockElement.classList.remove("collapsed");
          }
        });
        
        // Update button icon
        if (clocksCollapsed) {
          clockToggle.innerHTML = '<i class="fas fa-chevron-right"></i>';
        } else {
          clockToggle.innerHTML = '<i class="fas fa-clock"></i>';
        }
      });
    }
    
    // Toolkit filtering and search functionality
    function initToolkitFilter() {
      const filterButtons = document.querySelectorAll('.filter-btn');
      const searchInput = document.getElementById('toolkit-search-input');
      const toolkitCards = document.querySelectorAll('.toolkit-card');
      const categorySections = document.querySelectorAll('.category-section');
      const noResultsMessage = document.querySelector('.no-results');
      
      // Category filter functionality
      filterButtons.forEach(button => {
        button.addEventListener('click', () => {
          const category = button.dataset.category;
          
          // Update button states
          filterButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          
          // Apply filters
          filterTools(category, searchInput.value.trim());
        });
      });
      
      // Search functionality
      searchInput.addEventListener('input', () => {
        const activeCategory = document.querySelector('.filter-btn.active').dataset.category;
        filterTools(activeCategory, searchInput.value.trim());
      });
      
      // Filter tools function
      function filterTools(category, searchTerm) {
        let hasResults = false;
        let totalVisible = 0;
        
        // Process all cards
        toolkitCards.forEach(card => {
          const cardCategories = card.dataset.categories.split(' ');
          const cardTitle = card.dataset.title.toLowerCase();
          const searchMatch = searchTerm === '' || cardTitle.includes(searchTerm.toLowerCase());
          const categoryMatch = category === 'all' || cardCategories.includes(category);
          
          if (searchMatch && categoryMatch) {
            card.style.display = 'flex';
            totalVisible++;
          } else {
            card.style.display = 'none';
          }
        });
        
        // Update category section visibility
        categorySections.forEach(section => {
          const sectionCategory = section.dataset.category;
          const hasVisibleCards = Array.from(section.querySelectorAll('.toolkit-card'))
            .some(card => card.style.display !== 'none');
          
          if ((category === 'all' || sectionCategory === category) && hasVisibleCards) {
            section.style.display = 'block';
            hasResults = true;
          } else {
            section.style.display = 'none';
          }
        });
        
        // Show/hide no results message
        if (totalVisible === 0) {
          noResultsMessage.style.display = 'block';
        } else {
          noResultsMessage.style.display = 'none';
        }
      }
      
      // Initial display: show all
      filterTools('all', '');
    }
    
    // Schedule Page Functionality
    function initSchedulePage() {
      // Initialize calendar and timetable
      initCalendar();
      initTimetable();
      
      // View switching functionality
      const viewSwitchers = document.querySelectorAll('.schedule-switch-btn');
      const calendarSection = document.getElementById('calendar-section');
      const timetableSection = document.getElementById('timetable-section');
      const ustcTimetableSection = document.getElementById('ustc-timetable-section');
      const myTimetableSection = document.getElementById('my-timetable-section');
      
      viewSwitchers.forEach(btn => {
        btn.addEventListener('click', () => {
          viewSwitchers.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          
          const view = btn.dataset.view;
          calendarSection.classList.remove('active');
          timetableSection.classList.remove('active');
          ustcTimetableSection.classList.remove('active');
          myTimetableSection.classList.remove('active');
          
          if (view === 'calendar') {
            calendarSection.classList.add('active');
          } else if (view === 'timetable') {
            timetableSection.classList.add('active');
            updateTimetable();
          } else if (view === 'ustc-timetable') {
            ustcTimetableSection.classList.add('active');
            renderUstcTimetable();
          } else if (view === 'my-timetable') {
            myTimetableSection.classList.add('active');
          }
        });
      });
      
      // Event modal functionality
      const eventModal = document.getElementById('event-modal');
      const eventModalClose = document.getElementById('event-modal-close');
      const eventCancelBtn = document.getElementById('event-cancel-btn');
      const eventForm = document.getElementById('event-form');
      
      // General event modal
      const generalEventModal = document.getElementById('general-event-modal');
      const generalEventModalClose = document.getElementById('general-event-modal-close');
      const generalEventCancelBtn = document.getElementById('general-event-cancel-btn');
      const generalEventForm = document.getElementById('general-event-form');
      
      // Open modal for new calendar event
      document.getElementById('add-calendar-event').addEventListener('click', () => {
        openGeneralEventModal('calendar');
      });
      
      // Open modal for new timetable event
      document.getElementById('add-timetable-event').addEventListener('click', () => {
        openGeneralEventModal('timetable');
      });
      
      // Open modal for new USTC class
      document.getElementById('add-ustc-event').addEventListener('click', () => {
        openUstcClassModal();
      });
      
      // Close modals
      eventModalClose.addEventListener('click', () => {
        eventModal.style.display = 'none';
      });
      
      eventCancelBtn.addEventListener('click', () => {
        eventModal.style.display = 'none';
      });
      
      generalEventModalClose.addEventListener('click', () => {
        generalEventModal.style.display = 'none';
      });
      
      generalEventCancelBtn.addEventListener('click', () => {
        generalEventModal.style.display = 'none';
      });
      
      // Close modals when clicking outside
      window.addEventListener('click', (e) => {
        if (e.target === eventModal) {
          eventModal.style.display = 'none';
        }
        if (e.target === generalEventModal) {
          generalEventModal.style.display = 'none';
        }
      });
      
      // Handle USTC class form submission
      eventForm.addEventListener('submit', (e) => {
        e.preventDefault();
        saveUstcClass();
      });
      
      // Handle general event form submission
      generalEventForm.addEventListener('submit', (e) => {
        e.preventDefault();
        saveGeneralEvent();
      });
      
      // Delete USTC class
      document.getElementById('event-delete-btn').addEventListener('click', () => {
        deleteUstcClass();
      });
      
      // Delete general event
      document.getElementById('general-event-delete-btn').addEventListener('click', () => {
        deleteGeneralEvent();
      });
      
      // Week navigation for timetable
      document.getElementById('prev-week-btn').addEventListener('click', () => {
        currentWeek.setDate(currentWeek.getDate() - 7);
        updateTimetable();
      });
      
      document.getElementById('next-week-btn').addEventListener('click', () => {
        currentWeek.setDate(currentWeek.getDate() + 7);
        updateTimetable();
      });
    }
    
    // Semester selection functionality
    function initSemesterSelection() {
      const semesterLinks = document.querySelectorAll('.semester-dropdown-content a');
      
      semesterLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const semester = link.dataset.semester;
          
          // Update dropdown button text
          const dropdownBtn = document.querySelector('.semester-dropdown-btn');
          dropdownBtn.innerHTML = `${link.textContent} <i class="fas fa-caret-down"></i>`;
          
          // Hide all semester timetables
          document.querySelectorAll('.semester-timetable-container').forEach(container => {
            container.classList.remove('active');
          });
          
          // Show selected semester timetable
          document.getElementById(semester).classList.add('active');
        });
      });
    }
    
    // Calendar functionality
    function initCalendar() {
      const calendarEl = document.getElementById('calendar-container');
      
      calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'dayGridMonth,timeGridWeek,timeGridDay'
        },
        events: calendarEvents,
        eventClick: function(info) {
          openGeneralEventModal('calendar', info.event);
        },
        eventDidMount: function(info) {
          // Apply dark mode styles
          if (document.body.classList.contains('dark-mode')) {
            info.el.style.backgroundColor = '#6a3093';
            info.el.style.borderColor = '#6a3093';
          }
        }
      });
      
      calendar.render();
      updateCalendarTheme();
    }
    
    function updateCalendarTheme() {
      if (!calendar) return;
      
      if (document.body.classList.contains('dark-mode')) {
        calendar.setOption('themeSystem', 'standard');
      } else {
        calendar.setOption('themeSystem', 'standard');
      }
    }
    
    // Timetable functionality
    function initTimetable() {
      // Generate timetable structure
      const timetableBody = document.getElementById('timetable-body');
      timetableBody.innerHTML = '';
      
      // Create time slots from 8:00 to 22:00
      for (let hour = 8; hour <= 22; hour++) {
        const row = document.createElement('tr');
        
        // Time cell
        const timeCell = document.createElement('td');
        timeCell.className = 'time-cell';
        timeCell.textContent = `${hour}:00 - ${hour + 1}:00`;
        row.appendChild(timeCell);
        
        // Day cells
        for (let day = 0; day < 7; day++) {
          const dayCell = document.createElement('td');
          dayCell.dataset.day = day;
          dayCell.dataset.hour = hour;
          dayCell.addEventListener('click', () => {
            handleTimetableCellClick(dayCell);
          });
          row.appendChild(dayCell);
        }
        
        timetableBody.appendChild(row);
      }
      
      updateTimetable();
    }
    
    function updateTimetable() {
      // Update week title
      const weekStart = new Date(currentWeek);
      const weekEnd = new Date(currentWeek);
      weekEnd.setDate(weekEnd.getDate() + 6);
      
      const options = { weekday: 'short', month: 'short', day: 'numeric' };
      document.getElementById('current-week').textContent = 
        `Week of ${weekStart.toLocaleDateString('en-US', options)} - ${weekEnd.toLocaleDateString('en-US', options)}`;
      
      // Clear all cells
      const cells = document.querySelectorAll('#timetable-body td:not(.time-cell)');
      cells.forEach(cell => {
        cell.className = '';
        cell.innerHTML = '';
      });
      
      // Filter events for current week
      const weekStartTime = currentWeek.getTime();
      const weekEndTime = weekEnd.getTime() + 24 * 60 * 60 * 1000;
      
      const weekEvents = timetableEvents.filter(event => {
        const eventDate = new Date(event.start).getTime();
        return eventDate >= weekStartTime && eventDate < weekEndTime;
      });
      
      // Populate events
      weekEvents.forEach(event => {
        const eventDate = new Date(event.start);
        const day = (eventDate.getDay() + 6) % 7; // Convert to 0-6 (Mon-Sun)
        const hour = eventDate.getHours();
        
        const cell = document.querySelector(`#timetable-body td[data-day="${day}"][data-hour="${hour}"]`);
        if (cell) {
          cell.className = 'has-event';
          
          const eventElement = document.createElement('div');
          eventElement.className = 'timetable-event';
          eventElement.innerHTML = `
            <strong>${event.title}</strong>
            ${event.description ? `<small>${event.description}</small>` : ''}
          `;
          eventElement.addEventListener('click', (e) => {
            e.stopPropagation();
            openGeneralEventModal('timetable', event);
          });
          
          cell.appendChild(eventElement);
        }
      });
    }
    
    function handleTimetableCellClick(cell) {
      const day = parseInt(cell.dataset.day);
      const hour = parseInt(cell.dataset.hour);
      
      // Calculate date for this cell
      const eventDate = new Date(currentWeek);
      eventDate.setDate(eventDate.getDate() + day);
      eventDate.setHours(hour, 0, 0, 0);
      
      // End time is 1 hour later
      const endDate = new Date(eventDate);
      endDate.setHours(hour + 1, 0, 0, 0);
      
      // Open modal with pre-filled times
      openGeneralEventModal('timetable', null, {
        start: eventDate,
        end: endDate
      });
    }
    
    // Initialize weeks selection
    function initWeeksSelection() {
      const weeksGrid = document.getElementById('weeks-grid');
      weeksGrid.innerHTML = '';
      
      for (let week = 1; week <= 18; week++) {
        const checkboxContainer = document.createElement('div');
        checkboxContainer.className = 'week-checkbox';
        
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = `week-${week}`;
        checkbox.name = 'ustc-week';
        checkbox.value = week;
        
        const label = document.createElement('label');
        label.htmlFor = `week-${week}`;
        label.textContent = week;
        
        checkbox.addEventListener('change', updateWeekDisplay);
        
        checkboxContainer.appendChild(checkbox);
        checkboxContainer.appendChild(label);
        weeksGrid.appendChild(checkboxContainer);
      }
    }
    
    // Update week display based on selected weeks
    function updateWeekDisplay() {
      const weekDisplay = document.getElementById('week-display');
      const selectedWeeks = Array.from(document.querySelectorAll('input[name="ustc-week"]:checked'))
        .map(checkbox => parseInt(checkbox.value))
        .sort((a, b) => a - b);
      
      if (selectedWeeks.length === 0) {
        weekDisplay.textContent = 'No weeks selected';
        return;
      }
      
      // Format weeks to ranges
      const ranges = [];
      let start = selectedWeeks[0];
      let end = start;
      
      for (let i = 1; i < selectedWeeks.length; i++) {
        if (selectedWeeks[i] === end + 1) {
          end = selectedWeeks[i];
        } else {
          ranges.push(start === end ? start : `${start}-${end}`);
          start = selectedWeeks[i];
          end = start;
        }
      }
      ranges.push(start === end ? start : `${start}-${end}`);
      
      weekDisplay.textContent = ranges.join(', ') + ' week(s)';
    }
    
    // Format weeks for display
    function formatWeeks(weeks) {
      if (!weeks || weeks.length === 0) return '';
      
      // Sort weeks numerically
      const sortedWeeks = [...weeks].sort((a, b) => a - b);
      
      // Create ranges
      const ranges = [];
      let start = sortedWeeks[0];
      let end = start;
      
      for (let i = 1; i < sortedWeeks.length; i++) {
        if (sortedWeeks[i] === end + 1) {
          end = sortedWeeks[i];
        } else {
          ranges.push(start === end ? start : `${start}-${end}`);
          start = sortedWeeks[i];
          end = start;
        }
      }
      ranges.push(start === end ? start : `${start}-${end}`);
      
      return ranges.join(', ');
    }
    
    // USTC Timetable functionality
    function renderUstcTimetable() {
      // Restore initial table structure
      const timetable = document.getElementById('ustc-timetable');
      const tbody = timetable.querySelector('tbody');
      tbody.innerHTML = timetableTbodyInitialHTML;
      
      // Get all cells
      const cells = Array.from(tbody.querySelectorAll('td[data-period][data-day]'));
      
      // Initialize occupied status array
      const occupied = Array(14).fill().map(() => Array(7).fill(false));
      
      // Clear cell content
      cells.forEach(cell => {
        cell.innerHTML = '';
        cell.rowSpan = 1;
        cell.className = '';
      });
      
      // Sort classes by start period
      ustcClasses.sort((a, b) => a.periodStart - b.periodStart);
      
      // Store course information per cell
      const cellCourses = Array(14).fill().map(() => Array(7).fill().map(() => []));
      
      // Collect courses for each cell
      ustcClasses.forEach(cls => {
        const periodStart = parseInt(cls.periodStart);
        const periodEnd = parseInt(cls.periodEnd);
        
        cls.days.forEach(day => {
          for (let period = periodStart; period <= periodEnd; period++) {
            if (period >= 1 && period <= 13) {
              cellCourses[period][day].push({
                id: cls.id,
                courseName: cls.courseName,
                instructor: cls.instructor,
                location: cls.location,
                weeks: cls.weeks,
                periodStart: cls.periodStart,
                periodEnd: cls.periodEnd
              });
            }
          }
        });
      });
      
      // Render courses to cells
      for (let period = 1; period <= 13; period++) {
        for (let day = 0; day <= 6; day++) {
          const courses = cellCourses[period][day];
          if (courses.length === 0) continue;
          
          // Find current cell
          const cell = tbody.querySelector(`td[data-period="${period}"][data-day="${day}"]`);
          if (!cell) continue;
          
          // Skip if already merged
          if (occupied[period][day]) continue;
          
          // Find maximum period span
          let maxPeriod = period;
          for (let p = period; p <= 13; p++) {
            // Check if all courses exist in subsequent periods
            const allExist = courses.every(course => 
              cellCourses[p][day].some(c => c.id === course.id)
            );
            
            if (allExist) {
              maxPeriod = p;
            } else {
              break;
            }
          }
          
          // Calculate row span
          const rowSpan = maxPeriod - period + 1;
          
          // Mark periods as occupied
          for (let p = period; p <= maxPeriod; p++) {
            occupied[p][day] = true;
          }
          
          // Set merged cell
          cell.rowSpan = rowSpan;
          cell.className = 'has-class event-cell';
          
          // Calculate end period
          const endPeriod = period + rowSpan - 1;
          
          // Create start time element
          const startInfo = document.createElement('div');
          startInfo.className = 'time-info start-info';
          startInfo.textContent = periodTimes[period].start;
          
          // Create end time element
          const endInfo = document.createElement('div');
          endInfo.className = 'time-info end-info';
          endInfo.textContent = periodTimes[endPeriod].end;
          
          // Create course container
          const container = document.createElement('div');
          container.className = 'overlap-container';
          
          // Add time elements
          cell.appendChild(startInfo);
          cell.appendChild(endInfo);
          
          // Add course information
          courses.forEach(course => {
            const courseDiv = document.createElement('div');
            courseDiv.className = 'overlap-course';
            courseDiv.innerHTML = `
              <div class="course-name">${course.courseName}</div>
              <div class="instructor">${course.instructor}</div>
              <div class="location">${course.location}</div>
            `;
            container.appendChild(courseDiv);
          });
          
          // Add container to cell
          cell.appendChild(container);
          
          // Remove merged cells
          for (let p = period + 1; p <= maxPeriod; p++) {
            const nextCell = tbody.querySelector(`td[data-period="${p}"][data-day="${day}"]`);
            if (nextCell) {
              nextCell.style.display = 'none';
            }
          }
        }
      }
      
      // Render course list
      renderUstcClassesList();
    }
    
    function renderUstcClassesList() {
      const tbody = document.getElementById('ustc-classes-body');
      tbody.innerHTML = '';
      
      ustcClasses.forEach(cls => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${cls.periodStart} - ${cls.periodEnd}</td>
          <td>${cls.courseName}</td>
          <td>${cls.instructor}</td>
          <td>${cls.location}</td>
          <td>${formatWeeks(cls.weeks)}</td>
          <td>${getDaysString(cls.days)}</td>
          <td>
            <button class="edit-ustc-class" data-id="${cls.id}">Edit</button>
            <button class="delete-ustc-class" data-id="${cls.id}">Delete</button>
          </td>
        `;
        tbody.appendChild(row);
      });
      
      // Add edit events
      document.querySelectorAll('.edit-ustc-class').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.dataset.id;
          const cls = ustcClasses.find(c => c.id === id);
          if (cls) {
            openUstcClassModal(cls);
          }
        });
      });
      
      // Add delete events
      document.querySelectorAll('.delete-ustc-class').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.dataset.id;
          deleteUstcClass(id);
        });
      });
    }
    
    function getDaysString(days) {
      const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      return days.map(day => dayNames[day]).join(', ');
    }
    
    function openUstcClassModal(cls = null) {
      const modal = document.getElementById('event-modal');
      const deleteBtn = document.getElementById('event-delete-btn');
      
      if (cls) {
        // Edit mode
        document.getElementById('event-modal-title').textContent = 'Edit Class';
        document.getElementById('event-id').value = cls.id;
        document.getElementById('ustc-period-start').value = cls.periodStart;
        document.getElementById('ustc-period-end').value = cls.periodEnd;
        document.getElementById('ustc-course-name').value = cls.courseName;
        document.getElementById('ustc-instructor').value = cls.instructor;
        document.getElementById('ustc-location').value = cls.location;
        
        // Clear all day checkboxes
        document.querySelectorAll('input[name="ustc-day"]').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Set selected days
        cls.days.forEach(day => {
          const checkbox = document.querySelector(`input[name="ustc-day"][value="${day}"]`);
          if (checkbox) {
            checkbox.checked = true;
          }
        });
        
        // Clear all week checkboxes
        document.querySelectorAll('input[name="ustc-week"]').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Set selected weeks
        if (cls.weeks && cls.weeks.length > 0) {
          cls.weeks.forEach(week => {
            const checkbox = document.querySelector(`input[name="ustc-week"][value="${week}"]`);
            if (checkbox) {
              checkbox.checked = true;
            }
          });
        }
        
        // Update week display
        updateWeekDisplay();
        
        // Show delete button
        deleteBtn.style.display = 'inline-block';
      } else {
        // Add mode
        document.getElementById('event-modal-title').textContent = 'Add New Class';
        document.getElementById('event-id').value = '';
        document.getElementById('ustc-period-start').value = '1';
        document.getElementById('ustc-period-end').value = '1';
        document.getElementById('ustc-course-name').value = '';
        document.getElementById('ustc-instructor').value = '';
        document.getElementById('ustc-location').value = '';
        
        // Clear all day checkboxes
        document.querySelectorAll('input[name="ustc-day"]').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Clear all week checkboxes
        document.querySelectorAll('input[name="ustc-week"]').forEach(checkbox => {
          checkbox.checked = false;
        });
        
        // Update week display
        updateWeekDisplay();
        
        // Hide delete button
        deleteBtn.style.display = 'none';
      }
      
      modal.style.display = 'flex';
    }
    
    function saveUstcClass() {
      const id = document.getElementById('event-id').value;
      const periodStart = document.getElementById('ustc-period-start').value;
      const periodEnd = document.getElementById('ustc-period-end').value;
      const courseName = document.getElementById('ustc-course-name').value;
      const instructor = document.getElementById('ustc-instructor').value;
      const location = document.getElementById('ustc-location').value;
      
      // Get selected days
      const days = [];
      document.querySelectorAll('input[name="ustc-day"]:checked').forEach(checkbox => {
        days.push(parseInt(checkbox.value));
      });
      
      // Get selected weeks
      const weeks = [];
      document.querySelectorAll('input[name="ustc-week"]:checked').forEach(checkbox => {
        weeks.push(parseInt(checkbox.value));
      });
      
      if (!courseName || !instructor || !location || days.length === 0 || weeks.length === 0) {
        alert('Please fill in all required fields');
        return;
      }
      
      if (parseInt(periodStart) > parseInt(periodEnd)) {
        alert('End period cannot be earlier than start period');
        return;
      }
      
      if (id) {
        // Update existing class
        const index = ustcClasses.findIndex(c => c.id === id);
        if (index !== -1) {
          ustcClasses[index] = {
            id,
            periodStart,
            periodEnd,
            courseName,
            instructor,
            location,
            days,
            weeks
          };
        }
      } else {
        // Add new class
        const newClass = {
          id: Date.now().toString(),
          periodStart,
          periodEnd,
          courseName,
          instructor,
          location,
          days,
          weeks
        };
        ustcClasses.push(newClass);
      }
      
      // Save to local storage
      localStorage.setItem('ustcClasses', JSON.stringify(ustcClasses));
      
      // Close modal
      document.getElementById('event-modal').style.display = 'none';
      
      // Re-render timetable
      renderUstcTimetable();
    }
    
    function deleteUstcClass(id = null) {
      if (!id) {
        id = document.getElementById('event-id').value;
      }
      
      if (!id) return;
      
      // Confirm deletion
      if (!confirm('Are you sure you want to delete this class?')) {
        return;
      }
      
      // Remove from array
      ustcClasses = ustcClasses.filter(c => c.id !== id);
      
      // Save to local storage
      localStorage.setItem('ustcClasses', JSON.stringify(ustcClasses));
      
      // Close modal
      document.getElementById('event-modal').style.display = 'none';
      
      // Re-render timetable
      renderUstcTimetable();
    }
    
    function openGeneralEventModal(type, event = null, preset = null) {
      const modal = document.getElementById('general-event-modal');
      const deleteBtn = document.getElementById('general-event-delete-btn');
      
      if (event) {
        // Edit mode
        document.getElementById('general-event-modal-title').textContent = 'Edit Event';
        document.getElementById('general-event-id').value = event.id;
        document.getElementById('event-title').value = event.title;
        document.getElementById('event-description').value = event.description || '';
        document.getElementById('event-start').value = formatDateTimeForInput(new Date(event.start));
        document.getElementById('event-end').value = formatDateTimeForInput(new Date(event.end));
        
        // Show delete button
        deleteBtn.style.display = 'inline-block';
      } else {
        // Add mode
        document.getElementById('general-event-modal-title').textContent = 'Add New Event';
        document.getElementById('general-event-id').value = '';
        document.getElementById('event-title').value = '';
        document.getElementById('event-description').value = '';
        
        if (preset) {
          document.getElementById('event-start').value = formatDateTimeForInput(preset.start);
          document.getElementById('event-end').value = formatDateTimeForInput(preset.end);
        } else {
          const now = new Date();
          const oneHourLater = new Date(now.getTime() + 60 * 60 * 1000);
          document.getElementById('event-start').value = formatDateTimeForInput(now);
          document.getElementById('event-end').value = formatDateTimeForInput(oneHourLater);
        }
        
        // Hide delete button
        deleteBtn.style.display = 'none';
      }
      
      // Set event type
      document.getElementById('general-event-type').value = type;
      
      modal.style.display = 'flex';
    }
    
    function formatDateTimeForInput(date) {
      return date.toISOString().slice(0, 16);
    }
    
    function saveGeneralEvent() {
      const id = document.getElementById('general-event-id').value;
      const type = document.getElementById('general-event-type').value;
      const title = document.getElementById('event-title').value;
      const description = document.getElementById('event-description').value;
      const start = document.getElementById('event-start').value;
      const end = document.getElementById('event-end').value;
      
      if (!title || !start || !end) {
        alert('Please fill in all required fields');
        return;
      }
      
      const event = {
        id: id || Date.now().toString(),
        title,
        description,
        start,
        end
      };
      
      let events;
      if (type === 'calendar') {
        events = calendarEvents;
      } else {
        events = timetableEvents;
      }
      
      if (id) {
        // Update existing event
        const index = events.findIndex(e => e.id === id);
        if (index !== -1) {
          events[index] = event;
        }
      } else {
        // Add new event
        events.push(event);
      }
      
      // Save to local storage
      if (type === 'calendar') {
        localStorage.setItem('calendarEvents', JSON.stringify(events));
      } else {
        localStorage.setItem('timetableEvents', JSON.stringify(events));
      }
      
      // Close modal
      document.getElementById('general-event-modal').style.display = 'none';
      
      // Update UI
      if (type === 'calendar') {
        calendar.removeAllEvents();
        calendar.addEventSource(events);
        calendar.render();
      } else {
        updateTimetable();
      }
    }
    
    function deleteGeneralEvent() {
      const id = document.getElementById('general-event-id').value;
      const type = document.getElementById('general-event-type').value;
      
      if (!id) return;
      
      // Confirm deletion
      if (!confirm('Are you sure you want to delete this event?')) {
        return;
      }
      
      let events;
      if (type === 'calendar') {
        events = calendarEvents;
      } else {
        events = timetableEvents;
      }
      
      // Remove from array
      const index = events.findIndex(e => e.id === id);
      if (index !== -1) {
        events.splice(index, 1);
      }
      
      // Save to local storage
      if (type === 'calendar') {
        localStorage.setItem('calendarEvents', JSON.stringify(events));
      } else {
        localStorage.setItem('timetableEvents', JSON.stringify(events));
      }
      
      // Close modal
      document.getElementById('general-event-modal').style.display = 'none';
      
      // Update UI
      if (type === 'calendar') {
        calendar.removeAllEvents();
        calendar.addEventSource(events);
        calendar.render();
      } else {
        updateTimetable();
      }
    }
  </script>
</body>
</html>
